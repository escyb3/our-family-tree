<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Tree: Van Der Velde Descendants</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f7f7;
        }
        /* Card Styles */
        .person-card {
            border-radius: 0.5rem;
            padding: 0.5rem;
            min-width: 140px;
            max-width: 180px;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            transition: all 0.2s;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            justify-content: center;
            z-index: 20;
            position: relative;
        }
        .person-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        /* Gender Colors */
        .gender-M { background-color: #DBEAFE; border: 2px solid #3B82F6; } /* Blue for Male */
        .gender-F { background-color: #FCE7F3; border: 2px solid #EC4899; } /* Pink for Female */
        .gender-U { background-color: #E5E7EB; border: 2px solid #6B7280; } /* Grey for Unknown */

        /* Tree Structure */
        .tree-container {
            display: inline-block;
            white-space: nowrap;
            padding: 2rem;
            min-width: 100%;
        }
        .couple-node {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
            position: relative;
        }
        .couple-card-wrapper {
            display: flex;
            align-items: stretch;
            position: relative;
            margin-bottom: 0.5rem;
        }
        .spouse-line {
            height: 2px;
            width: 15px;
            background-color: #4b5563;
            align-self: center;
        }
        .children-line-vertical {
            position: relative;
            width: 2px;
            background-color: #4b5563;
            height: 20px;
        }
        .descendants-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }
        .children-horizontal-connector {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            position: relative;
            width: 100%;
        }
        .children-horizontal-line {
            position: absolute;
            top: 0;
            height: 2px;
            background-color: #4b5563;
            width: calc(100% - 30px);
        }
        .child-node-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            padding: 0 10px;
        }
        .child-vertical-line {
            width: 2px;
            height: 20px;
            background-color: #4b5563;
        }
    </style>
</head>
<body class="bg-gray-50 p-4 md:p-8">
    <header class="text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-extrabold text-gray-800">ðŸŒ³ Izaks Family Tree</h1>
        <p class="text-lg text-gray-600 mt-2">Visualizing generations with multi-spouse support</p>
        <p class="text-sm text-green-700 mt-2 font-bold italic">Updated: October 2025</p>
    </header>

    <div class="overflow-x-auto shadow-2xl bg-white rounded-2xl p-6 border border-gray-100">
        <div id="familyTree" class="tree-container">
            <!-- Family tree generated here -->
        </div>
    </div>

    <div class="mt-8 p-6 bg-white rounded-xl shadow-lg max-w-4xl mx-auto border border-gray-200">
        <h2 class="text-xl font-bold text-gray-800 mb-4 border-b pb-2">Legend & Instructions:</h2>
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-sm mb-4">
            <div class="flex items-center"><div class="w-4 h-4 rounded-full gender-M mr-2"></div><span>Male</span></div>
            <div class="flex items-center"><div class="w-4 h-4 rounded-full gender-F mr-2"></div><span>Female</span></div>
            <div class="flex items-center"><div class="w-4 h-4 rounded-full gender-U mr-2"></div><span>Unknown</span></div>
        </div>
        <ul class="list-disc list-inside text-gray-600 text-sm space-y-2">
            <li>Click on a person's card to **expand or collapse** their descendants.</li>
            <li>Multiple spouse cards indicate multiple documented relationships.</li>
            <li>The number below the name is the system ID.</li>
        </ul>
    </div>

    <script>
        const peopleData = [
            { "id": "1", "name": "Yaakov Van der Velde", "gender": "M", "spouse_ids": ["2"], "parent_ids": [], "children_ids": ["3"], "birth_year": "1673" },
            { "id": "2", "name": "Unknown Spouse", "gender": "F", "spouse_ids": ["1"], "children_ids": ["3"] },
            { "id": "3", "name": "Alexander van der Velde", "gender": "M", "spouse_ids": ["4"], "parent_ids": ["1", "2"], "children_ids": ["5"], "birth_year": "1711" },
            { "id": "4", "name": "X Hengel", "gender": "F", "spouse_ids": ["3"], "children_ids": ["5"] },
            { "id": "5", "name": "Marcus Meijer Alexander", "gender": "M", "spouse_ids": ["6", "7"], "parent_ids": ["3", "4"], "children_ids": ["8", "15", "18"], "birth_year": "1736", "death_year": "1806" },
            { "id": "6", "name": "Ester Marcus Mordechai van Norden", "gender": "F", "spouse_ids": ["5"], "children_ids": ["8"] },
            { "id": "7", "name": "Rebekka Hartog Italiaander", "gender": "F", "spouse_ids": ["5"], "children_ids": ["15", "18"] },
            { "id": "8", "name": "Alexander Marcus Meyer van Der Velde", "gender": "M", "spouse_ids": ["9"], "parent_ids": ["5", "6"], "children_ids": ["10", "11", "12"], "birth_year": "1772", "death_year": "1856" },
            { "id": "9", "name": "Fijtje Jacob Polak Levie", "gender": "F", "spouse_ids": ["8"], "children_ids": ["10", "11", "12"] },
            { "id": "10", "name": "Louis Alexander van der Velde", "gender": "M", "parent_ids": ["8", "9"], "birth_year": "1802", "death_year": "1847" },
            { "id": "11", "name": "Mietje Alexander van der Velde", "gender": "F", "parent_ids": ["8", "9"], "birth_year": "1805" },
            { "id": "12", "name": "Sara Alexanders Van Der Velde", "gender": "F", "parent_ids": ["8", "9"], "birth_year": "1806" },
            { "id": "15", "name": "Sara Meijer van der Velde Hengel", "gender": "F", "spouse_ids": ["16"], "parent_ids": ["5", "7"], "children_ids": ["17"], "birth_year": "1774", "death_year": "1868" },
            { "id": "16", "name": "Samson Hartog Frank", "gender": "M", "spouse_ids": ["15"], "children_ids": ["17"] },
            { "id": "17", "name": "Rebecka Roosje Samson Frank", "gender": "F", "spouse_ids": ["17s"], "parent_ids": ["15", "16"], "children_ids": ["17c"], "birth_year": "1806", "death_year": "1893" },
            { "id": "17s", "name": "Salomon Koopman van der Sluis", "gender": "M", "spouse_ids": ["17"], "children_ids": ["17c"] },
            { "id": "17c", "name": "Simon van der Sluis", "gender": "M", "parent_ids": ["17", "17s"], "birth_year": "1840", "death_year": "1889" },
            { "id": "18", "name": "Moses Meijer van der Velde", "gender": "M", "spouse_ids": ["19"], "parent_ids": ["5", "7"], "children_ids": ["20", "200", "300"], "birth_year": "1785", "death_year": "1863" },
            { "id": "19", "name": "Betje Emanuel Aron Blitz", "gender": "F", "spouse_ids": ["18"], "children_ids": ["20", "200", "300"] },
            { "id": "20", "name": "Hijman Meijer van der Velde", "gender": "M", "spouse_ids": ["21"], "parent_ids": ["18", "19"], "children_ids": ["22"], "birth_year": "1817", "death_year": "1899" },
            { "id": "21", "name": "Betje Samson Frank", "gender": "F", "spouse_ids": ["20"], "children_ids": ["22"] },
            { "id": "22", "name": "Benjamin van der Velde", "gender": "M", "spouse_ids": ["23"], "parent_ids": ["20", "21"], "children_ids": ["24", "180", "181", "182", "183", "190", "195", "198", "199"], "birth_year": "1849", "death_year": "1924" },
            { "id": "23", "name": "Flora Italiaander", "gender": "F", "spouse_ids": ["22"], "children_ids": ["24", "180", "181", "182", "183", "190", "195", "198", "199"] },
            { "id": "24", "name": "Jonas Jacob van der Velde", "gender": "M", "spouse_ids": ["25", "26"], "parent_ids": ["22", "23"], "children_ids": ["27", "80", "120", "140"], "birth_year": "1887", "death_year": "1980" },
            { "id": "25", "name": "Frouke Frank", "gender": "F", "spouse_ids": ["24"], "children_ids": ["27"] },
            { "id": "26", "name": "Rosalie Lea van der velde", "gender": "F", "spouse_ids": ["24"], "children_ids": ["80", "120", "140"] },
            { "id": "27", "name": "Bernard van der Velde", "gender": "M", "spouse_ids": ["28"], "parent_ids": ["24", "25"], "children_ids": ["29", "50", "65", "70"], "birth_year": "1911", "death_year": "1997" },
            { "id": "28", "name": "Eleanor Alice Waterston", "gender": "F", "spouse_ids": ["27"], "children_ids": ["29", "50", "65", "70"] },
            { "id": "29", "name": "Robert James van der Velde", "gender": "M", "spouse_ids": ["30", "31"], "parent_ids": ["27", "28"], "children_ids": ["32", "40", "43", "46"], "birth_year": "1941" },
            { "id": "30", "name": "Margaret Kennedy Crookshank", "gender": "F", "spouse_ids": ["29"], "children_ids": ["32", "40", "43", "46"] },
            { "id": "31", "name": "Christine Nielson", "gender": "F", "spouse_ids": ["29"] },
            { "id": "32", "name": "Jennifer Van der velde", "gender": "F", "spouse_ids": ["33"], "parent_ids": ["29", "30"], "children_ids": ["34", "35", "36"], "birth_year": "1969" },
            { "id": "33", "name": "Bradley John Rees", "gender": "M", "spouse_ids": ["32"], "children_ids": ["34", "35", "36"] },
            { "id": "34", "name": "Tawny Lou Rees", "gender": "F", "parent_ids": ["32", "33"], "birth_year": "1995" },
            { "id": "35", "name": "Thomas Keaton Rees", "gender": "M", "parent_ids": ["32", "33"], "birth_year": "1998" },
            { "id": "36", "name": "Tegan Grace Rees", "gender": "F", "parent_ids": ["32", "33"], "birth_year": "2001" },
            { "id": "40", "name": "Andrew Van der velde", "gender": "M", "spouse_ids": ["41", "42"], "parent_ids": ["29", "30"], "children_ids": ["40a", "40b", "40c"], "birth_year": "1971" },
            { "id": "41", "name": "Sarah Souter", "gender": "F", "spouse_ids": ["40"], "children_ids": ["40a", "40b", "40c"] },
            { "id": "40a", "name": "Michael Van der Velde", "gender": "M", "parent_ids": ["40", "41"], "birth_year": "1996" },
            { "id": "40b", "name": "Kevan Van der Velde", "gender": "M", "parent_ids": ["40", "41"], "birth_year": "1997" },
            { "id": "40c", "name": "Megan Van der Velde", "gender": "F", "parent_ids": ["40", "41"], "birth_year": "2000" },
            { "id": "43", "name": "Katherine Van der velde", "gender": "F", "spouse_ids": ["44"], "parent_ids": ["29", "30"], "children_ids": ["44a", "44b"], "birth_year": "1976" },
            { "id": "44", "name": "Stewart Taggart", "gender": "M", "spouse_ids": ["43"], "children_ids": ["44a", "44b"] },
            { "id": "44a", "name": "Jack Taggart", "gender": "M", "parent_ids": ["43", "44"], "birth_year": "2009" },
            { "id": "44b", "name": "Jessica Taggart", "gender": "F", "parent_ids": ["43", "44"], "birth_year": "2010" },
            { "id": "46", "name": "Suzanne Van der velde", "gender": "F", "spouse_ids": ["47"], "parent_ids": ["29", "30"], "children_ids": ["47a", "47b"], "birth_year": "1979" },
            { "id": "47", "name": "Simon de Geus", "gender": "M", "spouse_ids": ["46"], "children_ids": ["47a", "47b"] },
            { "id": "47a", "name": "Bram de Geus", "gender": "M", "parent_ids": ["46", "47"], "birth_year": "2013" },
            { "id": "47b", "name": "Merle de Geus", "gender": "F", "parent_ids": ["46", "47"], "birth_year": "2015" },
            { "id": "50", "name": "Frank van der Velde", "gender": "M", "spouse_ids": ["51", "52"], "parent_ids": ["27", "28"], "children_ids": ["53", "57", "61"], "birth_year": "1943", "death_year": "2025" },
            { "id": "51", "name": "Marianne S. Van Vollenhoven", "gender": "F", "spouse_ids": ["50"], "children_ids": ["53", "57", "61"] },
            { "id": "52", "name": "Mieke de Vries", "gender": "F", "spouse_ids": ["50"] },
            { "id": "53", "name": "Mark Van der Velde", "gender": "M", "spouse_ids": ["54", "55", "56"], "parent_ids": ["50", "51"], "children_ids": ["54a", "55a", "55b"], "birth_year": "1970" },
            { "id": "54", "name": "Yael Maandag", "gender": "F", "spouse_ids": ["53"], "children_ids": ["54a"] },
            { "id": "54a", "name": "Levi Van der Velde", "gender": "M", "parent_ids": ["53", "54"], "birth_year": "1994" },
            { "id": "55", "name": "Nanda Berendsen", "gender": "F", "spouse_ids": ["53"], "children_ids": ["55a", "55b"] },
            { "id": "55a", "name": "Roan Van der Velde", "gender": "M", "parent_ids": ["53", "55"], "birth_year": "2000" },
            { "id": "55b", "name": "Kyra Van der Velde", "gender": "F", "parent_ids": ["53", "55"], "birth_year": "2002" },
            { "id": "56", "name": "Jacqueline Deen", "gender": "F", "spouse_ids": ["53"] },
            { "id": "57", "name": "Peter Bernard Van der Velde", "gender": "M", "spouse_ids": ["58", "59", "60"], "parent_ids": ["50", "51"], "children_ids": ["58a", "58b"], "birth_year": "1972" },
            { "id": "58", "name": "Monique van Egteren", "gender": "F", "spouse_ids": ["57"], "children_ids": ["58a", "58b"] },
            { "id": "58a", "name": "Esmay Van der Velde", "gender": "F", "parent_ids": ["57", "58"], "birth_year": "2000" },
            { "id": "58b", "name": "Lars Van der Velde", "gender": "M", "parent_ids": ["57", "58"], "birth_year": "2003" },
            { "id": "61", "name": "Jason James van der Velde", "gender": "M", "spouse_ids": ["62", "63", "64"], "parent_ids": ["50", "51"], "children_ids": ["62a", "62b", "62c", "62d", "62e"], "birth_year": "1976" },
            { "id": "62", "name": "Yvonne van Doorn", "gender": "F", "spouse_ids": ["61"], "children_ids": ["62a", "62b", "62c"] },
            { "id": "62a", "name": "Tessa Van der Velde", "gender": "F", "parent_ids": ["61", "62"], "birth_year": "2003" },
            { "id": "62b", "name": "Niels Van der Velde", "gender": "M", "parent_ids": ["61", "62"], "birth_year": "2006" },
            { "id": "62c", "name": "Merel Van der Velde", "gender": "F", "parent_ids": ["61", "62"], "birth_year": "2009" },
            { "id": "63", "name": "Marije den Ouden", "gender": "F", "spouse_ids": ["61"], "children_ids": ["62d", "62e"] },
            { "id": "62d", "name": "Bas Van der Velde", "gender": "M", "parent_ids": ["61", "63"], "birth_year": "2013" },
            { "id": "62e", "name": "Gijs Van der Velde", "gender": "M", "parent_ids": ["61", "63"], "birth_year": "2016" },
            { "id": "64", "name": "Carolin van Doorn", "gender": "F", "spouse_ids": ["61"] },
            { "id": "65", "name": "Yvonne Eleonore van der Velde", "gender": "F", "spouse_ids": ["66"], "parent_ids": ["27", "28"], "children_ids": ["67", "68", "69"], "birth_year": "1946" },
            { "id": "66", "name": "Herman Versteeg", "gender": "M", "spouse_ids": ["65"], "children_ids": ["67", "68", "69"] },
            { "id": "67", "name": "Eleanor Versteeg", "gender": "F", "parent_ids": ["65", "66"], "birth_year": "1972" },
            { "id": "68", "name": "Yvonne Versteeg", "gender": "F", "parent_ids": ["65", "66"], "birth_year": "1975" },
            { "id": "69", "name": "Herman Versteeg", "gender": "M", "parent_ids": ["65", "66"], "birth_year": "1977" },
            { "id": "70", "name": "Irene van der Velde", "gender": "F", "spouse_ids": ["71"], "parent_ids": ["27", "28"], "children_ids": ["72"], "birth_year": "1951" },
            { "id": "71", "name": "Kees Goudzwaard", "gender": "M", "spouse_ids": ["70"], "children_ids": ["72"] },
            { "id": "72", "name": "Saskia Goudzwaard", "gender": "F", "parent_ids": ["70", "71"], "birth_year": "1975" },
            { "id": "80", "name": "Betty van der Velde", "gender": "F", "spouse_ids": ["81", "82"], "parent_ids": ["24", "26"], "children_ids": ["83", "86", "87"], "birth_year": "1919", "death_year": "2011" },
            { "id": "81", "name": "Samuel Waterman", "gender": "M", "spouse_ids": ["80"], "children_ids": ["83"] },
            { "id": "83", "name": "Rob Waterman", "gender": "M", "spouse_ids": ["84", "85"], "parent_ids": ["80", "81"], "children_ids": ["84a", "84b", "85a"], "birth_year": "1942" },
            { "id": "82", "name": "Barend de Leeuw", "gender": "M", "spouse_ids": ["80"], "children_ids": ["86", "87"] },
            { "id": "120", "name": "Rita Flora van der Velde", "gender": "F", "spouse_ids": ["121"], "parent_ids": ["24", "26"], "children_ids": ["122", "123", "124", "128"], "birth_year": "1920", "death_year": "1980" },
            { "id": "183", "name": "Mozes Jesaja van der Velde", "gender": "M", "spouse_ids": ["184"], "parent_ids": ["22", "23"], "children_ids": ["185", "186", "187"], "birth_year": "1895", "death_year": "1943" },
            { "id": "184", "name": "Maria de Vries", "gender": "F", "spouse_ids": ["183"], "children_ids": ["185", "186", "187"] },
            { "id": "187", "name": "Julia Van der velde", "gender": "F", "spouse_ids": ["188"], "parent_ids": ["183", "184"], "children_ids": ["189", "191", "193", "196", "197"], "birth_year": "1930" },
            { "id": "188", "name": "Eduard Ido Izaks", "gender": "M", "spouse_ids": ["187"], "children_ids": ["189", "191", "193", "196", "197"] },
            { "id": "189", "name": "Miriam Izaks", "gender": "F", "spouse_ids": ["189a"], "parent_ids": ["187", "188"], "children_ids": ["189c1", "189c2", "189c3"], "birth_year": "1953" },
            { "id": "189a", "name": "Amiram Caspi", "gender": "M", "spouse_ids": ["189"], "children_ids": ["189c1", "189c2", "189c3"] },
            { "id": "189c1", "name": "Eduard (Edo) Caspi", "gender": "M", "parent_ids": ["189", "189a"], "birth_year": "1975" }
        ];

        const peopleMap = peopleData.reduce((map, person) => {
            map[person.id] = person;
            return map;
        }, {});

        const rootId = '1';

        function createPersonCard(person, isSpouse) {
            const dates = (person.birth_year || person.death_year) ?
                `<div class="text-[10px] text-gray-500 mt-1">${person.birth_year || '?'}${person.death_year ? ' - ' + person.death_year : ''}</div>` :
                '';
            
            const card = document.createElement('div');
            card.className = `person-card gender-${person.gender}`;
            card.setAttribute('data-id', person.id);
            
            if (!isSpouse || (person.children_ids && person.children_ids.length > 0)) { 
                card.onclick = toggleChildren;
            }

            let icon = person.gender === 'M' ? 'â™‚ï¸' : (person.gender === 'F' ? 'â™€ï¸' : 'ðŸ‘¤');
            const hasChildren = person.children_ids && person.children_ids.length > 0;

            card.innerHTML = `
                <div class="text-sm mb-1">${icon}</div>
                <div class="font-semibold text-xs leading-tight h-8 flex items-center justify-center overflow-hidden">${person.name}</div>
                <div class="text-[9px] font-mono text-gray-400 mt-1">ID: #${person.id}</div>
                ${dates}
                ${hasChildren ? '<div class="text-[10px] mt-1 text-gray-400">â–¼ Expand</div>' : ''}
            `;
            return card;
        }

        function toggleChildren(event) {
            event.stopPropagation();
            const coupleNode = event.currentTarget.closest('.couple-node');
            const descendantsContainer = coupleNode.querySelector('.descendants-container');
            if (descendantsContainer) {
                const isHidden = descendantsContainer.style.display === 'none';
                descendantsContainer.style.display = isHidden ? 'flex' : 'none';
            }
        }

        function renderNode(personId) {
            const person = peopleMap[personId];
            if (!person) return null;

            const coupleNode = document.createElement('div');
            coupleNode.className = 'couple-node';
            
            const coupleCardWrapper = document.createElement('div');
            coupleCardWrapper.className = 'couple-card-wrapper';

            coupleCardWrapper.appendChild(createPersonCard(person, false));
            
            const spouseIds = person.spouse_ids || (person.spouse_id ? [person.spouse_id] : []);
            spouseIds.forEach(sId => {
                const spouse = peopleMap[sId];
                if (spouse) {
                    const line = document.createElement('div');
                    line.className = 'spouse-line';
                    coupleCardWrapper.appendChild(line);
                    coupleCardWrapper.appendChild(createPersonCard(spouse, true));
                }
            });
            
            coupleNode.appendChild(coupleCardWrapper);

            if (person.children_ids && person.children_ids.length > 0) {
                const vertLine = document.createElement('div');
                vertLine.className = 'children-line-vertical';
                coupleNode.appendChild(vertLine);

                const descendantsContainer = document.createElement('div');
                descendantsContainer.className = 'descendants-container';
                descendantsContainer.style.display = 'none';

                const connector = document.createElement('div');
                connector.className = 'children-horizontal-connector';

                const hLine = document.createElement('div');
                hLine.className = 'children-horizontal-line';
                connector.appendChild(hLine);

                person.children_ids.forEach(childId => {
                    const wrapper = document.createElement('div');
                    wrapper.className = 'child-node-wrapper';

                    const cVert = document.createElement('div');
                    cVert.className = 'child-vertical-line';
                    wrapper.appendChild(cVert);

                    const childNode = renderNode(childId);
                    if (childNode) wrapper.appendChild(childNode);
                    connector.appendChild(wrapper);
                });

                descendantsContainer.appendChild(connector);
                coupleNode.appendChild(descendantsContainer);
            }

            return coupleNode;
        }

        window.onload = () => {
            const container = document.getElementById('familyTree');
            const rootNode = renderNode(rootId);
            if (rootNode) {
                container.appendChild(rootNode);
                const rootDesc = rootNode.querySelector('.descendants-container');
                if (rootDesc) rootDesc.style.display = 'flex';
            }
        };
    </script>
</body>
</html>
