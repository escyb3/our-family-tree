<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- ×§×™×©×•×¨ ×œ-Tailwind CSS ×œ×§×‘×œ×ª ×¢×™×¦×•×‘ ×¨×¡×¤×•× ×¡×™×‘×™ ×•×§×œ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ×©×™××•×© ×‘×¤×•× ×˜ Inter ×©×œ ×’×•×’×œ ×œ×¤×•× ×˜ × ×§×™ ×•××•×“×¨× ×™ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* ×§×œ××¡×™× ××•×ª×××™× ××™×©×™×ª ×œ×©×›×‘×•×ª ×”×¨×§×¢ */
        .hero-section {
            background-image: url('https://placehold.co/1920x1080/000000/FFFFFF/png?text=Family+Photo');
            background-size: cover;
            background-position: center;
            position: relative;
        }
        .hero-section::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
        }
    </style>
    <title>××ª×¨ ×”××©×¤×—×”</title>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Header and Navigation -->
    <header class="bg-blue-800 text-white p-4 shadow-lg sticky top-0 z-50">
        <div class="container mx-auto flex flex-col md:flex-row items-center justify-between">
            <div class="flex items-center space-x-4 md:space-x-8">
                <!-- ×œ×•×’×• ××©×¤×—×ª×™ (placeholder) -->
                <img src="https://placehold.co/50x50/333/FFF/png?text=Logo" alt="×œ×•×’×• ××©×¤×—×ª×™" class="h-12 w-12 rounded-full border-2 border-white">
                <h1 id="welcome-title" class="text-2xl md:text-3xl font-bold">×‘×¨×•×›×™× ×”×‘××™×</h1>
            </div>
            <div class="flex items-center space-x-4 mt-4 md:mt-0">
                <!-- ×‘×•×¨×¨ ×©×¤×” -->
                <select id="langSelector" class="bg-blue-700 text-white p-2 rounded-lg">
                    <option value="he">×¢×‘×¨×™×ª</option>
                    <option value="en">English</option>
                    <option value="fr">FranÃ§ais</option>
                    <option value="yi">×™×™×“×™×©</option>
                </select>
                <!-- ×¤×¨×•×¤×™×œ ××©×ª××© -->
                <div id="user-profile" class="text-sm">
                    <a href="/login.html" id="login-logout-link" class="text-white hover:underline transition">×›× ×™×¡×”</a>
                </div>
            </div>
        </div>
        <!-- ×—×™×¤×•×© ×•×××©×§ -->
        <div class="container mx-auto mt-4 md:mt-6">
            <h2 id="search-title" class="text-center md:text-right text-xl font-semibold mb-2">ğŸ” ×—×™×¤×•×© ×‘××ª×¨</h2>
            <input type="text" id="search" placeholder="×”×§×œ×“ ×©× ××• ×ª×™××•×¨..." class="w-full p-2 rounded-lg bg-gray-100 text-gray-800 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="container mx-auto p-4 md:p-8">
        <div id="menu-bar" class="bg-white p-4 rounded-xl shadow-lg mb-8" style="display: none;">
            <nav>
                <ul class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-2 text-sm text-center">
                    <li><a href="#" id="menu-home" class="block p-2 rounded-lg hover:bg-gray-200 transition">ğŸ  ×¢××•×“ ×¨××©×™</a></li>
                    <li><a href="#" id="menu-about" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>â„¹ï¸</span> ×¢××•×“ ×”×¢×“×›×•× ×™×</a></li>
                    <li><a href="#" id="menu-tree" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>ğŸ§¬</span> ×¢×¥ ×”××©×¤×—×”</a></li>
                    <li><a href="#" id="menu-chat" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>ğŸ§‘â€ğŸ’»</span> ×¦'××˜ AI</a></li>
                    <li><a href="#" id="menu-contact" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>ğŸ“© </span> ×××¦×¢×™ ×ª×§×©×•×¨×ª ××©×¤×—×ª×™×™×</a></li>
                    <li><a href="#" id="menu-gallery" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>ğŸ–¼ï¸</span> ×’×œ×¨×™×™×ª ×ª××•× ×•×ª</a></li>
                    <li><a href="#" id="menu-memorial" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>ğŸ•¯ï¸</span> ×§×™×¨ ×–×™×›×¨×•×Ÿ</a></li>
                    <li><a href="#" id="menu-timeline" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>ğŸ—“ï¸</span> ×¦×™×¨ ×–××Ÿ</a></li>
                    <li><a href="#" id="menu-calendar" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>ğŸ“†</span> ×œ×•×— ×©× ×”</a></li>
                    <li><a href="#" id="menu-forum" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>ğŸ‘ª</span> ×¤×•×¨×•× ××©×¤×—×ª×™</a></li>
                    <li><a href="#" id="menu-biographies" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>ğŸ“–</span> ×‘×™×•×’×¨×¤×™×•×ª</a></li>
                    <li><a href="#" id="menu-stats" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>ğŸ“Š</span> ×¡×˜×˜×™×¡×˜×™×§×•×ª</a></li>
                    <li><a href="#" id="menu-update" class="block p-2 rounded-lg hover:bg-gray-200 transition">×¢×“×›×•×Ÿ ×¤×¨×˜×™×</a></li>
                    <li><a href="#" id="menu-upload-photo" class="block p-2 rounded-lg hover:bg-gray-200 transition">×”×¢×œ××ª ×ª××•× ×•×ª</a></li>
                    <li><a href="#" id="menu-upload-video" class="block p-2 rounded-lg hover:bg-gray-200 transition">×”×¢×œ××ª ×¡×¨×˜×•×Ÿ</a></li>
                    <li><a href="#" id="menu-search-ai" class="block p-2 rounded-lg hover:bg-gray-200 transition">×—×™×¤×•×© AI</a></li>
                    <li><a href="#" id="menu-migration-map" class="block p-2 rounded-lg hover:bg-gray-200 transition">××¤×ª × ×“×•×“×™×</a></li>
                    <li><a href="#" id="menu-newsletter" class="block p-2 rounded-lg hover:bg-gray-200 transition"><span>ğŸ“°</span> ×¢×œ×•×Ÿ</a></li>
                </ul>
            </nav>
        </div>

        <section class="hero-section text-center text-white py-16 md:py-24 rounded-xl shadow-lg relative overflow-hidden">
            <div class="relative z-10">
                <h2 id="main-welcome-heading" class="text-3xl md:text-5xl font-bold mb-4 drop-shadow-md">×‘×¨×•×›×™× ×”×‘××™×</h2>
                <p id="family-names" class="text-xl md:text-2xl font-semibold mb-6 drop-shadow-md">Ben Abou â€¢ Elharrar â€¢ Malca</p>
                <p id="main-welcome-text" class="text-lg md:text-xl max-w-2xl mx-auto mb-4 drop-shadow-md">...</p>
                <p id="main-welcome-subtext" class="text-md md:text-lg max-w-2xl mx-auto drop-shadow-md">...</p>
            </div>
        </section>

        <section class="mt-8 bg-white p-6 rounded-xl shadow-lg">
            <h3 class="text-2xl font-bold mb-4 text-center">×ª×›×•× ×•×ª ××¨×›×–×™×•×ª</h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 text-center">
                <div class="bg-gray-50 p-4 rounded-lg shadow"><p id="feature-tree">ğŸŒ³ ×¢×¥ ××©×¤×—×” ××™× ×˜×¨××§×˜×™×‘×™</p></div>
                <div class="bg-gray-50 p-4 rounded-lg shadow"><p id="feature-login">ğŸ” ×›× ×™×¡×ª ××©×ª××©×™× ×•×”×¨×©××•×ª</p></div>
                <div class="bg-gray-50 p-4 rounded-lg shadow"><p id="feature-wall">ğŸ’¬ ×§×™×¨ ××©×¤×—×ª×™</p></div>
                <div class="bg-gray-50 p-4 rounded-lg shadow"><p id="feature-messages">ğŸ“¨ ××¢×¨×›×ª ×”×•×“×¢×•×ª ×¤× ×™××™×ª</p></div>
                <div class="bg-gray-50 p-4 rounded-lg shadow"><p id="feature-gallery">ğŸ–¼ï¸ ×ª×¦×•×’×ª ×’×œ×¨×™×”</p></div>
                <div class="bg-gray-50 p-4 rounded-lg shadow"><p id="feature-memorial">ğŸ•¯ï¸ ×¢××•×“×™ ×”× ×¦×—×”</p></div>
                <div class="bg-gray-50 p-4 rounded-lg shadow"><p id="feature-multilingual">ğŸŒ ×ª×¤×¨×™×˜ ×“×•-×œ×©×•× ×™</p></div>
                <div class="bg-gray-50 p-4 rounded-lg shadow"><p id="feature-search">ğŸ” ×—×™×¤×•×© ×—×›×</p></div>
                <div class="bg-gray-50 p-4 rounded-lg shadow"><p id="feature-newsletter">ğŸ“§ ×ª××™×›×” ×‘-× ×™×•×–×œ×˜×¨</p></div>
                <div class="bg-gray-50 p-4 rounded-lg shadow"><p id="feature-ai">ğŸ¤– ×¦'××˜ AI ××©×¤×—×ª×™</p></div>
                <div class="bg-gray-50 p-4 rounded-lg shadow"><p id="feature-responsive">ğŸ“± ×ª××™×›×” ×‘×¢×™×¦×•×‘ ×¨×¡×¤×•× ×¡×™×‘×™</p></div>
            </div>
        </section>

        <section class="mt-8 bg-white p-6 rounded-xl shadow-lg">
            <h3 id="news-updates-heading" class="text-2xl font-bold mb-4 text-center">×—×“×©×•×ª ×•×¢×“×›×•× ×™×</h3>
            <ul class="list-disc list-inside space-y-2">
                <li id="news-1">...</li>
                <li id="news-2">...</li>
                <li id="news-3">...</li>
            </ul>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-blue-900 text-white p-4 mt-8">
        <div class="container mx-auto text-center text-sm">
            <p id="footer-text">
                &copy; 2025 ××ª×¨ ×”××©×¤×—×” â€¢ × ×‘× ×” ×‘××”×‘×” ×¢"×™ ×”××©×¤×—×” â€¢ <a href="/admin.html" id="admin-link">ğŸ› ï¸ × ×™×”×•×œ</a>
            </p>
        </div>
    </footer>

    <!-- JavaScript for Translations and Login Logic -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const translations = {
                "he": {
                    "title": "××ª×¨ ×”××©×¤×—×” - Ben Abou, Elharrar ×•×¢×•×“",
                    "logout-link": "×”×ª× ×ª×§",
                    "login-link": "×›× ×™×¡×”",
                    "welcome-title": "×‘×¨×•×›×™× ×”×‘××™× ×œ××ª×¨ ×”××©×¤×—×”",
                    "family-names": "Ben Abou â€¢ Elharrar â€¢ Malca",
                    "search-title": "ğŸ” ×—×™×¤×•×© ×‘××ª×¨",
                    "search-placeholder": "×”×§×œ×“ ×©× ××• ×ª×™××•×¨...",
                    "menu-home": "ğŸ  ×¢××•×“ ×¨××©×™",
                    "menu-about": "<span>â„¹ï¸</span> ×¢××•×“ ×”×¢×“×›×•× ×™× (Unavailable currently)",
                    "menu-tree": "<span>ğŸ§¬</span> ×¢×¥ ×”××©×¤×—×”",
                    "menu-chat": "<span>ğŸ§‘â€ğŸ’»</span> ×¦'××˜ AI",
                    "menu-contact": "<span>ğŸ“© </span> ×××¦×¢×™ ×ª×§×©×•×¨×ª ××©×¤×—×ª×™×™×",
                    "menu-gallery": "<span>ğŸ–¼ï¸</span> ×’×œ×¨×™×™×ª ×ª××•× ×•×ª",
                    "menu-memorial": "<span>ğŸ•¯ï¸</span> ×§×™×¨ ×–×™×›×¨×•×Ÿ",
                    "menu-timeline": "<span>ğŸ—“ï¸</span> ×¦×™×¨ ×–××Ÿ",
                    "menu-calendar": "<span>ğŸ“†</span> ×œ×•×— ×©× ×”",
                    "menu-forum": "<span>ğŸ‘ª</span> ×¤×•×¨×•× ××©×¤×—×ª×™",
                    "menu-biographies": "<span>ğŸ“–</span> ×‘×™×•×’×¨×¤×™×•×ª",
                    "menu-stats": "<span>ğŸ“Š</span> ×¡×˜×˜×™×¡×˜×™×§×•×ª",
                    "menu-update": "×¢×“×›×•×Ÿ ×¤×¨×˜×™×",
                    "menu-upload-photo": "×”×¢×œ××ª ×ª××•× ×•×ª",
                    "menu-upload-video": "×”×¢×œ××ª ×¡×¨×˜×•×Ÿ",
                    "menu-search-ai": "×—×™×¤×•×© AI",
                    "menu-migration-map": "××¤×ª × ×“×•×“×™×",
                    "menu-newsletter": "<span>ğŸ“°</span> ×¢×œ×•×Ÿ",
                    "main-welcome-heading": "ğŸŒŸ ×‘×¨×•×›×™× ×”×‘××™× ×œ××¨×›×– ×”××©×¤×—×ª×™",
                    "main-welcome-text": "××ª×¨ ×–×” × ×‘× ×” ×¢×‘×•×¨ ×›×œ ×”××©×¤×—×•×ª: Ben Abou, Elharrar, Malca, Ben David, Bromberg, Barenbaum, Fass-Schneck, Weinberger, Leibner, van der Velde, Behr, de Vries, Italiaander, Izaks, Chapon, ×•×¢×•×“ â€“ ×œ×©×™×ª×•×£ ×ª××•× ×•×ª, ×”× ×¦×—×•×ª, ×¢×¥ ××©×¤×—×”, ×”×•×“×¢×•×ª ×•×¢×•×“.",
                    "main-welcome-subtext": "× ×™×ª×Ÿ ×œ×”×™×›× ×¡ ×œ×¤×™ ×¦×“ ××©×¤×—×ª×™, ×œ×¢×“×›×Ÿ ×¤×¨×˜×™×, ×œ×©×•×—×— ×¢× ×¦'××˜ AI ××©×¤×—×ª×™ ×•×œ×—×•×•×ª ×™×—×“ ×”×™×¡×˜×•×¨×™×” ××ª×•×¢×“×ª.",
                    "tree-welcome-title": "×‘×¨×•×›×™× ×”×‘××™× ×œ×¢×¥ ×”××©×¤×—×” ×©×œ× ×•",
                    "feature-tree": "ğŸŒ³×¢×¥ ××©×¤×—×” ××™× ×˜×¨××§×˜×™×‘×™",
                    "feature-login": "ğŸ” ×›× ×™×¡×ª ××©×ª××©×™× ×•×”×¨×©××•×ª ×œ×¤×™ ×¦×“ ××©×¤×—×ª×™",
                    "feature-wall": "ğŸ’¬ ×§×™×¨ ××©×¤×—×ª×™ ×œ×¤×•×¡×˜×™× ×•×ª×’×•×‘×•×ª",
                    "feature-messages": "ğŸ“¨ ××¢×¨×›×ª ×”×•×“×¢×•×ª ×¤× ×™××™×ª",
                    "feature-gallery": "ğŸ–¼ï¸ ×ª×¦×•×’×ª ×’×œ×¨×™×” ×œ××¡××›×™× ×•×ª××•× ×•×ª",
                    "feature-memorial": "ğŸ•¯ï¸ ×¢××•×“×™ ×”× ×¦×—×” ×¢× × ×¨ ×“×™×’×™×˜×œ×™",
                    "feature-multilingual": "ğŸŒ ×ª×¤×¨×™×˜ ×“×•-×œ×©×•× ×™ (×¢×‘×¨×™×ª/×× ×’×œ×™×ª)",
                    "feature-search": "ğŸ” ×—×™×¤×•×© ×—×›×",
                    "feature-newsletter": "ğŸ“§ ×ª××™×›×” ×‘-× ×™×•×–×œ×˜×¨",
                    "feature-ai": "ğŸ¤– ×¦'××˜ AI ××©×¤×—×ª×™ ×¢× ×ª××™×›×” ×‘× ×ª×•× ×™ ××©×¤×—×”",
                    "feature-responsive": "ğŸ“± ×ª××™×›×” ×‘×¢×™×¦×•×‘ ×¨×¡×¤×•× ×¡×™×‘×™ ×œ× ×™×™×“",
                    "news-updates-heading": "×—×“×©×•×ª ×•×¢×“×›×•× ×™×",
                    "news-1": "×”×•×¡×¤× ×• ×™×›×•×œ×ª ×”×¢×œ××ª ×ª××•× ×•×ª ×œ×¢×¥ ×”××©×¤×—×”.",
                    "news-2": "× ×¤×ª×—×” ××¢×¨×›×ª ×”×”×•×“×¢×•×ª ×”×¤× ×™××™×ª ×œ×›×œ ×”××©×ª××©×™×.",
                    "news-3": "× ×™×ª×Ÿ ×œ×”×“×œ×™×§ × ×¨ ×“×™×’×™×˜×œ×™ ×œ×¢×™×œ×•×™ × ×©××ª ×™×§×™×¨×™×›×.",
                    "footer-text": "&copy; 2025 ××ª×¨ ×”××©×¤×—×” â€¢ × ×‘× ×” ×‘××”×‘×” ×¢\"×™ ×”××©×¤×—×” â€¢ <a href=\"/admin.html\" id=\"admin-link\">ğŸ› ï¸ × ×™×”×•×œ</a>",
                    "alt-family-logo": "×œ×•×’×• ××©×¤×—×ª×™",
                    "alt-family-photo": "×ª××•× ×ª ××©×¤×—×”",
                    "unavailable-message": "(Unavailable currently)"
                },
                "en": {
                    "title": "The Family Website - Ben Abou, Elharrar and more",
                    "logout-link": "Logout",
                    "login-link": "Login",
                    "welcome-title": "Welcome to the Family Website",
                    "family-names": "Ben Abou â€¢ Elharrar â€¢ Malca",
                    "search-title": "ğŸ” Search the site",
                    "search-placeholder": "Type a name or description...",
                    "menu-home": "ğŸ  Home Page",
                    "menu-about": "<span>â„¹ï¸</span> Updates Page (Unavailable currently)",
                    "menu-tree": "<span>ğŸ§¬</span> Family Tree",
                    "menu-chat": "<span>ğŸ§‘â€ğŸ’»</span> AI Chat",
                    "menu-contact": "<span>ğŸ“© </span> Family Communications",
                    "menu-gallery": "<span>ğŸ–¼ï¸</span> Photo Gallery",
                    "menu-memorial": "<span>ğŸ•¯ï¸</span> Memorial Wall",
                    "menu-timeline": "<span>ğŸ—“ï¸</span> Timeline",
                    "menu-calendar": "<span>ğŸ“†</span> Calendar",
                    "menu-forum": "<span>ğŸ‘ª</span> Family Forum",
                    "menu-biographies": "<span>ğŸ“–</span> Biographies",
                    "menu-stats": "<span>ğŸ“Š</span> Statistics",
                    "menu-update": "Update Details",
                    "menu-upload-photo": "Upload Photos",
                    "menu-upload-video": "Upload Video",
                    "menu-search-ai": "AI Search",
                    "menu-migration-map": "Migration Map",
                    "menu-newsletter": "<span>ğŸ“°</span> Newsletter",
                    "main-welcome-heading": "ğŸŒŸ Welcome to the Family Center",
                    "main-welcome-text": "This website was built for all families: Ben Abou, Elharrar, Malca, Ben David, Bromberg, Barenbaum, Fass-Schneck, Weinberger, Leibner, van der Velde, Behr, de Vries, Italiaander, Izaks, Chapon, and more â€“ to share photos, memorials, family tree, messages, and more.",
                    "main-welcome-subtext": "You can log in by family branch, update details, chat with a family AI, and together experience a documented history.",
                    "tree-welcome-title": "Welcome to Our Family Tree",
                    "feature-tree": "ğŸŒ³ Interactive Family Tree",
                    "feature-login": "ğŸ” User Login and Permissions by Family Branch",
                    "feature-wall": "ğŸ’¬ Family Wall for Posts and Comments",
                    "feature-messages": "ğŸ“¨ Internal Messaging System",
                    "feature-gallery": "ğŸ–¼ï¸ Gallery Display for Documents and Photos",
                    "feature-memorial": "ğŸ•¯ï¸ Memorial Pages with a Digital Candle",
                    "feature-multilingual": "ğŸŒ Multilingual Menu (Hebrew/English)",
                    "feature-search": "ğŸ” Smart Search",
                    "feature-newsletter": "ğŸ“§ Newsletter Support",
                    "feature-ai": "ğŸ¤– Family AI Chat with Family Data Support",
                    "feature-responsive": "ğŸ“± Responsive Design for Mobile",
                    "news-updates-heading": "News and Updates",
                    "news-1": "We have added the ability to upload photos to the family tree.",
                    "news-2": "The internal messaging system is now open to all users.",
                    "news-3": "You can now light a digital candle in memory of your loved ones.",
                    "footer-text": "&copy; 2025 The Family Website â€¢ Built with love by the family â€¢ <a href=\"/admin.html\" id=\"admin-link\">ğŸ› ï¸ Admin</a>",
                    "alt-family-logo": "Family logo",
                    "alt-family-photo": "Family photo",
                    "unavailable-message": "(Currently Unavailable)"
                },
                "yi": {
                    "title": "×“×™ ××©×¤Ö¼×—×” ×•×•×¢×‘×–×™×™×˜×œ - ×‘×Ÿ ××‘Ö¼×•, ×¢×œ×”×¨×¨ ××•×Ÿ ××¢×¨",
                    "logout-link": "×Ö·×¨×•×™×¡×’×™×™×Ÿ",
                    "login-link": "×Ö·×¨×™×™Ö·× ×’×Ö·× ×’",
                    "welcome-title": "×‘×¨×•×›×™× ×”×‘××™× ×¦×• ×“×¢×¨ ××©×¤Ö¼×—×” ×•×•×¢×‘×–×™×™×˜×œ",
                    "family-names": "×‘×Ÿ ××‘Ö¼×• â€¢ ×¢×œ×”×¨×¨ â€¢ ××Ö·×œ×§×Ö·",
                    "search-title": "ğŸ” ×–×•×›×¢×Ÿ ××•×™×£ ×“×¢×¨ ×•×•×¢×‘×–×™×™×˜×œ",
                    "search-placeholder": "×©×¨×™×™×‘×˜ ×Ö· × ×Ö¸××¢×Ÿ ×Ö¸×“×¢×¨ ×‘×Ö·×©×¨×™×™Ö·×‘×•× ×’...",
                    "menu-home": "ğŸ  ×”×•×™×¤Ö¼×˜ ×‘×œ×Ö·×˜",
                    "menu-about": "<span>â„¹ï¸</span> ×Ö·×¨×™×™Ö·× ×¤×™×¨ ×‘×œ×Ö·×˜ (× ×™×©×˜ ×‘× ×™××¦× ×›×¨×’×¢)",
                    "menu-tree": "<span>ğŸ§¬</span> ××©×¤Ö¼×—×” ×‘×•×™×",
                    "menu-chat": "<span>ğŸ§‘â€ğŸ’»</span> ×Ö·×™-×˜×©×Ö·×˜",
                    "menu-contact": "<span>ğŸ“© </span> ××©×¤Ö¼×—×” ×§×Ö¸××•× ×™×§×Ö·×¦×™×¢×¡",
                    "menu-gallery": "<span>ğŸ–¼ï¸</span> ×¤×Ö¸×˜×Ö¸ ×’×Ö·×œ×¢×¨×™×¢",
                    "menu-memorial": "<span>ğŸ•¯ï¸</span> ×–×›Ö¼×¨×•×Ÿ ×•×•×Ö·× ×˜",
                    "menu-timeline": "<span>ğŸ—“ï¸</span> ×¦×™×™×˜ ×œ×™× ×™×¢",
                    "menu-calendar": "<span>ğŸ“†</span> ×œ×•×—",
                    "menu-forum": "<span>ğŸ‘ª</span> ××©×¤Ö¼×—×” ×¤×Ö¸×¨×•×",
                    "menu-biographies": "<span>ğŸ“–</span> ×‘×™×Ö¸×’×¨×Ö·×¤Ö¿×™×¢×¡",
                    "menu-stats": "<span>ğŸ“Š</span> ×¡×˜×Ö·×˜×™×¡×˜×™×§×Ÿ",
                    "menu-update": "×“×¢×¨×”×™×™Ö·× ×˜×™×§×Ÿ ×“×¢×˜×Ö·×œ×Ÿ",
                    "menu-upload-photo": "×”×™×™×‘×Ÿ ×Ö·×¨×•×™×£ ×¤×Ö¸×˜×Ö¸×¡",
                    "menu-upload-video": "×”×™×™×‘×Ÿ ×Ö·×¨×•×™×£ ×•×•×™×“×¢×Ö¸",
                    "menu-search-ai": "×–×•×›×¢×Ÿ ××™×˜ ×Ö·×™",
                    "menu-migration-map": "××Ö·×¤Ö¼×¢ ×¤Ö¿×•×Ÿ × ×“×•×“×™×",
                    "menu-newsletter": "<span>ğŸ“°</span> × ×™×™Ö·×¢×¡×œ×¢×˜×¢×¨",
                    "main-welcome-heading": "ğŸŒŸ ×‘×¨×•×›×™× ×”×‘××™× ×¦×•× ××©×¤Ö¼×—×” ×¦×¢× ×˜×¢×¨",
                    "main-welcome-text": "×“×™ ×“×Ö¸×–×™×§×¢ ×•×•×¢×‘×–×™×™×˜×œ ××™×– ×’×¢×‘×•×™×˜ ×’×¢×•×•×Ö¸×¨×Ÿ ×¤Ö¿×Ö·×¨ ×Ö·×œ×¢ ××©×¤Ö¼×—×•×ª: ×‘×Ÿ ××‘Ö¼×•, ×¢×œ×”×¨×¨, ××Ö·×œ×§×Ö·, ×‘×Ÿ ×“×•×“, ×‘×¨×Ö¸××‘×¢×¨×’, ×‘×Ö·×¨×¢× ×‘×Ö·×•×, ×¤Ö¿×Ö·×¡-×©× ×¢×§, ×•×•×™×™Ö·× ×‘×¢×¨×’×¢×¨, ×œ×™×™×‘× ×¢×¨, ×¤Ö¿×Ö·×Ÿ ×“×¢×¨ ×•×•×¢×œ×“×¢, ×‘×¢×¨, ×“×¢ ×¤Ö¿×¨×™×¡, ××™×˜×Ö·×œ×™×Ö·× ×“×¢×¨, ×™×–×Ö·×§×¡, ×˜×©×Ö·×¤Ö¼×Ö¸×Ÿ, ××•×Ÿ ××¢×¨ â€“ ×¦×• ×˜×™×™×œ×Ÿ ×‘×™×œ×“×¢×¨, ×–×›×¨×•× ×•×ª, ××©×¤Ö¼×—×” ×‘×•×™×, ××¢×œ×“×•× ×’×¢×Ÿ, ××•×Ÿ ××¢×¨.",
                    "main-welcome-subtext": "××™×¨ ×§×¢× ×˜ ×Ö·×¨×™×™Ö·× ×§×•××¢×Ÿ ×“×•×¨×š ××©×¤Ö¼×—×” ×¦×•×•×™×™Ö·×’, ×“×¢×¨×”×™×™Ö·× ×˜×™×§×Ÿ ×“×¢×˜×Ö·×œ×Ÿ, ×¨×¢×“×Ÿ ××™×˜ ×Ö· ××©×¤Ö¼×—×” ×Ö·×™-×˜×©×Ö·×˜ ××•×Ÿ ×¦×•×–×Ö·××¢×Ÿ ××™×‘×¢×¨×œ×¢×‘×Ÿ ×Ö· ×“×Ö¸×§×•××¢× ×˜×™×¨×˜×¢ ×’×¢×©×™×›×˜×¢.",
                    "tree-welcome-title": "×‘×¨×•×›×™× ×”×‘××™× ×¦×• ××•× ×“×–×¢×¨ ××©×¤Ö¼×—×” ×‘×•×™×",
                    "feature-tree": "ğŸŒ³ ××™× ×˜×¢×¨×Ö·×§×˜×™×•×•×¢×¨ ××©×¤Ö¼×—×” ×‘×•×™×",
                    "feature-login": "ğŸ” ×‘×Ö·× ×™×¦×¢×¨ ×Ö·×¨×™×™Ö·× ×’×Ö·× ×’ ××•×Ÿ ×¤Ö¼×¢×¨××™×¡×™×¢×¡ ×œ×•×™×˜ ××©×¤Ö¼×—×” ×¦×•×•×™×™Ö·×’",
                    "feature-wall": "ğŸ’¬ ××©×¤Ö¼×—×” ×•×•×Ö·× ×˜ ×¤Ö¿×Ö·×¨ ×¤Ö¼×Ö¸×¡×˜×Ÿ ××•×Ÿ ×§×Ö¸××¢× ×˜×Ö·×¨×Ÿ",
                    "feature-messages": "ğŸ“¨ ××™× ×¢×¨×œ×¢×›×¢ ××¢×œ×“×•× ×’ ×¡×™×¡×˜×¢×",
                    "feature-gallery": "ğŸ–¼ï¸ ×’×Ö·×œ×¢×¨×™×¢ ×¤Ö¿×Ö·×¨ ×“×Ö¸×§×•××¢× ×˜×Ÿ ××•×Ÿ ×‘×™×œ×“×¢×¨",
                    "feature-memorial": "ğŸ•¯ï¸ ×–×›Ö¼×¨×•×Ÿ ×–×™×™×˜×Ÿ ××™×˜ ×Ö· ×“×™×’×™×˜×Ö·×œ×¢ ×œ×™×›×˜",
                    "feature-multilingual": "ğŸŒ ××¢×¨-×©×¤Ö¼×¨×Ö·×›×™×§×¢ ××¢× ×™×• (×”×¢×‘×¨×¢×™Ö´×©/×¢× ×’×œ×™×©)",
                    "feature-search": "ï¿½ ×§×œ×•×’×¢ ×–×•×›×•× ×’",
                    "feature-newsletter": "ğŸ“§ × ×™×™Ö·×¢×¡×œ×¢×˜×¢×¨ ×©×˜×™×¦×¢",
                    "feature-ai": "ğŸ¤– ××©×¤Ö¼×—×” ×Ö·×™ ×˜×©×Ö·×˜ ××™×˜ ×©×˜×™×¦×¢ ×¤Ö¿×•×Ÿ ××©×¤Ö¼×—×” ×“×Ö·×˜×Ÿ",
                    "feature-responsive": "ğŸ“± ×¨×¢×¡×¤Ö¼×Ö¸× ×¡×™×•×•×¢ ×“×¢×–×™×™×Ÿ ×¤Ö¿×Ö·×¨ ××Ö¸×‘×™×œ",
                    "news-updates-heading": "× ×™×™Ö·×¢×¡ ××•×Ÿ ×“×¢×¨×”×™×™Ö·× ×˜×™×§×•× ×’×¢×Ÿ",
                    "news-1": "××™×¨ ×”×Ö¸×‘×Ÿ ×¦×•×’×¢×’×¢×‘×Ÿ ×“×™ ××¢×’×œ×¢×›×§×™×™×˜ ×¦×• ×”×™×™×‘×Ÿ ×Ö·×¨×•×™×£ ×‘×™×œ×“×¢×¨ ×¦×•× ××©×¤Ö¼×—×” ×‘×•×™×.",
                    "news-2": "×“×™ ××™× ×¢×¨×œ×¢×›×¢ ××¢×œ×“×•× ×’ ×¡×™×¡×˜×¢× ××™×– ××™×¦×˜ ×Ö¸×¤Ö¿×Ÿ ×¤Ö¿×Ö·×¨ ×Ö·×œ×¢ ×‘×Ö·× ×™×¦×¢×¨.",
                    "news-3": "××™×¨ ×§×¢× ×˜ ××™×¦×˜ ×¦×™× ×“×Ÿ ×Ö· ×“×™×’×™×˜×Ö·×œ×¢ ×œ×™×›×˜ ×œ×–×›×•×ª × ×©××ª ××™×™×¢×¨×¢ ×œ×™×‘ ×’×¢×”×Ö·×˜×¢.",
                    "footer-text": "&copy; 2025 ×“×™ ××©×¤Ö¼×—×” ×•×•×¢×‘×–×™×™×˜×œ â€¢ ×’×¢×‘×•×™×˜ ××™×˜ ×œ×™×‘×©×Ö·×¤Ö¿×˜ ×“×•×¨×š ×“×¢×¨ ××©×¤Ö¼×—×” â€¢ <a href=\"/admin.html\" id=\"admin-link\">ğŸ› ï¸ ×¤Ö¿×Ö·×¨×•×•×Ö·×œ×˜×•× ×’</a>",
                    "alt-family-logo": "××©×¤Ö¼×—×” ×œ×Ö¸×’×Ö¸",
                    "alt-family-photo": "××©×¤Ö¼×—×” ×¤×Ö¸×˜×Ö¸",
                    "unavailable-message": "(× ×™×©×˜ ×‘× ×™××¦× ×›×¨×’×¢)"
                },
                "fr": {
                    "title": "Le site familial - Ben Abou, Elharrar et plus",
                    "logout-link": "DÃ©connexion",
                    "login-link": "Connexion",
                    "welcome-title": "Bienvenue sur le site de la famille",
                    "family-names": "Ben Abou â€¢ Elharrar â€¢ Malca",
                    "search-title": "ğŸ” Rechercher sur le site",
                    "search-placeholder": "Tapez un nom ou une description...",
                    "menu-home": "ğŸ  Page d'accueil",
                    "menu-about": "<span>â„¹ï¸</span> Page d'actualitÃ©s (Actuellement indisponible)",
                    "menu-tree": "<span>ğŸ§¬</span> Arbre gÃ©nÃ©alogique",
                    "menu-chat": "<span>ğŸ§‘â€ğŸ’»</span> Chat IA",
                    "menu-contact": "<span>ğŸ“© </span> Communications familiales",
                    "menu-gallery": "<span>ğŸ–¼ï¸</span> Galerie de photos",
                    "menu-memorial": "<span>ğŸ•¯ï¸</span> Mur du souvenir",
                    "menu-timeline": "<span>ğŸ—“ï¸</span> Ligne du temps",
                    "menu-calendar": "<span>ğŸ“†</span> Calendrier",
                    "menu-forum": "<span>ğŸ‘ª</span> Forum familial",
                    "menu-biographies": "<span>ğŸ“–</span> Biographies",
                    "menu-stats": "<span>ğŸ“Š</span> Statistiques",
                    "menu-update": "Mettre Ã  jour les dÃ©tails",
                    "menu-upload-photo": "TÃ©lÃ©charger des photos",
                    "menu-upload-video": "TÃ©lÃ©charger une vidÃ©o",
                    "menu-search-ai": "Recherche IA",
                    "menu-migration-map": "Carte de migration",
                    "menu-newsletter": "<span>ğŸ“°</span> Bulletin d'information",
                    "main-welcome-heading": "ğŸŒŸ Bienvenue au centre familial",
                    "main-welcome-text": "Ce site web a Ã©tÃ© construit pour toutes les familles : Ben Abou, Elharrar, Malca, Ben David, Bromberg, Barenbaum, Fass-Schneck, Weinberger, Leibner, van der Velde, Behr, de Vries, Italiaander, Izaks, Chapon, et plus encore â€“ pour partager des photos, des souvenirs, l'arbre gÃ©nÃ©alogique, des messages, et plus encore.",
                    "main-welcome-subtext": "Vous pouvez vous connecter par branche familiale, mettre Ã  jour les dÃ©tails, discuter avec une IA familiale et dÃ©couvrir ensemble une histoire documentÃ©e.",
                    "tree-welcome-title": "Bienvenue dans notre arbre gÃ©nÃ©alogique",
                    "feature-tree": "ğŸŒ³ Arbre gÃ©nÃ©alogique interactif",
                    "feature-login": "ğŸ” Connexion utilisateur et autorisations par branche familiale",
                    "feature-wall": "ğŸ’¬ Mur familial pour les publications et les commentaires",
                    "feature-messages": "ğŸ“¨ SystÃ¨me de messagerie interne",
                    "feature-gallery": "ğŸ–¼ï¸ Galerie pour les documents et les photos",
                    "feature-memorial": "ğŸ•¯ï¸ Pages de mÃ©morial avec une bougie numÃ©rique",
                    "feature-multilingual": "ğŸŒ Menu multilingue (hÃ©breu/anglais)",
                    "feature-search": "ğŸ” Recherche intelligente",
                    "feature-newsletter": "ğŸ“§ Support du bulletin d'information",
                    "feature-ai": "ğŸ¤– Chat IA familial avec support des donnÃ©es familiales",
                    "feature-responsive": "ğŸ“± Conception rÃ©active pour mobile",
                    "news-updates-heading": "Nouvelles et mises Ã  jour",
                    "news-1": "Nous avons ajoutÃ© la possibilitÃ© de tÃ©lÃ©charger des photos sur l'arbre gÃ©nÃ©alogique.",
                    "news-2": "Le systÃ¨me de messagerie interne est maintenant ouvert Ã  tous les utilisateurs.",
                    "news-3": "Vous pouvez maintenant allumer une bougie numÃ©rique en mÃ©moire de vos proches.",
                    "footer-text": "&copy; 2025 Le site familial â€¢ Construit avec amour par la famille â€¢ <a href=\"/admin.html\" id=\"admin-link\">ğŸ› ï¸ Administration</a>",
                    "alt-family-logo": "Logo de la famille",
                    "alt-family-photo": "Photo de la famille",
                    "unavailable-message": "(Actuellement indisponible)"
                }
            };

            const langSelector = document.getElementById("langSelector");
            let currentLang = localStorage.getItem("lang") || "he";
            let isLoggedIn = false;

            // ××¤×” ×©×œ ID ×©×œ ××œ×× ×˜×™× ×œ××¤×ª×— ×”×ª×¨×’×•× ×©×œ×”×. ×–×” ×”×•×¤×š ××ª ×”×§×•×“ ×œ×™×¢×™×œ ×•×§×œ ×™×•×ª×¨ ×œ× ×™×”×•×œ.
            const textElementsMap = {
                "title": (text) => document.title = text,
                "welcome-title": (text) => document.getElementById("welcome-title").textContent = text,
                "family-names": (text) => document.getElementById("family-names").textContent = text,
                "search-title": (text) => document.getElementById("search-title").textContent = text,
                "search-placeholder": (text) => document.getElementById("search").placeholder = text,
                "main-welcome-heading": (text) => document.getElementById("main-welcome-heading").textContent = text,
                "main-welcome-text": (text) => document.getElementById("main-welcome-text").textContent = text,
                "main-welcome-subtext": (text) => document.getElementById("main-welcome-subtext").textContent = text,
                "tree-welcome-title": (text) => document.getElementById("tree-welcome-title").textContent = text,
                "feature-tree": (text) => document.getElementById("feature-tree").textContent = text,
                "feature-login": (text) => document.getElementById("feature-login").textContent = text,
                "feature-wall": (text) => document.getElementById("feature-wall").textContent = text,
                "feature-messages": (text) => document.getElementById("feature-messages").textContent = text,
                "feature-gallery": (text) => document.getElementById("feature-gallery").textContent = text,
                "feature-memorial": (text) => document.getElementById("feature-memorial").textContent = text,
                "feature-multilingual": (text) => document.getElementById("feature-multilingual").textContent = text,
                "feature-search": (text) => document.getElementById("feature-search").textContent = text,
                "feature-newsletter": (text) => document.getElementById("feature-newsletter").textContent = text,
                "feature-ai": (text) => document.getElementById("feature-ai").textContent = text,
                "feature-responsive": (text) => document.getElementById("feature-responsive").textContent = text,
                "news-updates-heading": (text) => document.getElementById("news-updates-heading").textContent = text,
                "news-1": (text) => document.getElementById("news-1").textContent = text,
                "news-2": (text) => document.getElementById("news-2").textContent = text,
                "news-3": (text) => document.getElementById("news-3").textContent = text,
                "footer-text": (text) => document.getElementById("footer-text").innerHTML = text,
                "alt-family-logo": (text) => document.querySelector('img[alt="×œ×•×’×• ××©×¤×—×ª×™"]').setAttribute('alt', text),
                "alt-family-photo": (text) => document.querySelector('img[alt="×ª××•× ×ª ××©×¤×—×”"]').setAttribute('alt', text)
            };
            
            // ××¤×” ×©×œ ID ×©×œ ××œ×× ×˜×™× ×œ××¤×ª×— ×ª×¨×’×•× ×©×œ×”× ×©×“×•×¨×©×™× innerHTML ×‘×’×œ×œ ×ª×’×™ span
            const innerHtmlElementsMap = {
                "menu-home": "menu-home",
                "menu-about": "menu-about",
                "menu-tree": "menu-tree",
                "menu-chat": "menu-chat",
                "menu-contact": "menu-contact",
                "menu-gallery": "menu-gallery",
                "menu-memorial": "menu-memorial",
                "menu-timeline": "menu-timeline",
                "menu-calendar": "menu-calendar",
                "menu-forum": "menu-forum",
                "menu-biographies": "menu-biographies", // ×©×™××• ×œ×‘ ×›××Ÿ, ×©× ×”××¤×ª×— ×‘×ª×¨×’×•××™× ×”×•× 'biographies'
                "menu-stats": "menu-stats",
                "menu-update": "menu-update",
                "menu-upload-photo": "menu-upload-photo",
                "menu-upload-video": "menu-upload-video",
                "menu-search-ai": "menu-search-ai",
                "menu-migration-map": "menu-migration-map",
                "menu-newsletter": "menu-newsletter"
            };

            // ×¤×•× ×§×¦×™×” ×œ×¢×“×›×•×Ÿ ×›×œ ×”×˜×§×¡×˜×™× ×•×”×ª×›×•× ×•×ª ×‘×”×ª×× ×œ×©×¤×”
            function setLanguage(lang) {
                const texts = translations[lang];
                if (!texts) return;

                // ×¢×“×›×•×Ÿ ××œ×× ×˜×™× ×”××©×ª××©×™× ×‘-textContent
                for (const id in textElementsMap) {
                    if (texts[id]) {
                        textElementsMap[id](texts[id]);
                    }
                }
                
                // ×¢×“×›×•×Ÿ ××œ×× ×˜×™× ×”××©×ª××©×™× ×‘-innerHTML
                for (const id in innerHtmlElementsMap) {
                    const key = innerHtmlElementsMap[id];
                    if (texts[key]) {
                        document.getElementById(id).innerHTML = texts[key];
                    }
                }

                // ×¢×“×›×•×Ÿ ×›×™×•×•× ×™×•×ª ×”×©×¤×”
                const isRtl = lang === "he" || lang === "yi";
                document.documentElement.setAttribute("dir", isRtl ? "rtl" : "ltr");
                document.documentElement.lang = lang;
                
                // ×¢×“×›×•×Ÿ ×˜×§×¡×˜ ×§×™×©×•×¨ ×”×›× ×™×¡×”/×”×ª× ×ª×§×•×ª
                const loginLogoutLink = document.getElementById("login-logout-link");
                if (loginLogoutLink) {
                    loginLogoutLink.textContent = texts[isLoggedIn ? "logout-link" : "login-link"];
                    loginLogoutLink.href = isLoggedIn ? "/logout" : "/login.html";
                }
            }
            
            const menuBar = document.getElementById("menu-bar");
            const userProfile = document.getElementById("user-profile");
            
            // ×¡×™××•×œ×¦×™×” ×©×œ ×§×¨×™××” ×œ×©×¨×ª ×›×“×™ ×œ×‘×“×•×§ ×¡×˜×˜×•×¡ ×”×ª×—×‘×¨×•×ª
            // × × ×™×— ×©- /api/user ××—×–×™×¨ `{ username: "×©×", role: "×ª×¤×§×™×“" }` ×× ××—×•×‘×¨, ××• ×©×’×™××” ×× ×œ×
            fetch("/api/user")
                .then(res => {
                    if (res.ok) {
                        return res.json();
                    } else {
                        // ×× ×”×ª×©×•×‘×” ×œ× ×ª×§×™× ×”, ×× ×—× ×• ×™×•×“×¢×™× ×©×”××©×ª××© ×œ× ××—×•×‘×¨
                        return Promise.reject("User not logged in");
                    }
                })
                .then(user => {
                    isLoggedIn = user && user.username;
                    const currentTexts = translations[currentLang];
                    
                    if (isLoggedIn) {
                        userProfile.innerHTML = `
                            <span class="font-bold">${user.username}</span>
                            <span class="text-gray-300">(${user.role})</span>
                            <a href="/logout" id="login-logout-link" class="text-white hover:underline transition mr-2">×”×ª× ×ª×§</a>
                        `;
                    } else {
                        userProfile.innerHTML = `
                            <a href="/login.html" id="login-logout-link" class="text-white hover:underline transition mr-2">×›× ×™×¡×”</a>
                        `;
                    }
                    // ×”×¦×’×” ××• ×”×¡×ª×¨×ª ×”×ª×¤×¨×™×˜ ×‘×”×ª×× ×œ×¡×˜×˜×•×¡ ×”×”×ª×—×‘×¨×•×ª
                    menuBar.style.display = isLoggedIn ? "flex" : "none";
                    // ×¢×“×›×•×Ÿ ×”×ª×•×›×Ÿ ×‘×”×ª×× ×œ×©×¤×” ×”× ×•×›×—×™×ª ×œ××—×¨ ×§×‘×™×¢×ª ×¡×˜×˜×•×¡ ×”×”×ª×—×‘×¨×•×ª
                    setLanguage(currentLang);
                })
                .catch(error => {
                    console.error("Error fetching user data:", error);
                    isLoggedIn = false;
                    const currentTexts = translations[currentLang];
                    userProfile.innerHTML = `
                        <a href="/login.html" id="login-logout-link" class="text-white hover:underline transition mr-2">×›× ×™×¡×”</a>
                    `;
                    menuBar.style.display = "none";
                    setLanguage(currentLang);
                });

            // ×”×•×¡×¤×ª ×”××–× ×” ×œ××™×¨×•×¢ ×©×™× ×•×™ ×©×¤×”
            langSelector.addEventListener("change", (event) => {
                const newLang = event.target.value;
                localStorage.setItem("lang", newLang);
                setLanguage(newLang);
            });
        });
    </script>
</body>
</html>
