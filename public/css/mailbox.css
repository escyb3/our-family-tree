/* mailbox.css - מודרני ודמוי Gmail, מותאם RTL */
/* בסיס */
:root{
  --bg:#f1f3f5;
  --surface:#ffffff;
  --muted:#6b7280;
  --accent:#1a73e8;
  --accent-700:#1558b5;
  --danger:#d93025;
  --shadow: rgba(15, 23, 42, 0.08);
  --card-radius:10px;
  --gap:12px;
  font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  color-scheme: light;
}

*{box-sizing:border-box}
html,body,#app{height:100%;margin:0;background:var(--bg);color:#111}
.app{display:flex;flex-direction:column;height:100vh}

/* topbar */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:linear-gradient(90deg,var(--surface),#f8fafc);
  padding:10px 18px;
  border-bottom:1px solid rgba(0,0,0,0.06);
  gap:12px;
  box-shadow: 0 2px 8px var(--shadow);
}
.top-left{display:flex;align-items:center;gap:10px}
.brand{font-size:18px;margin:0}
.icon-btn{background:transparent;border:none;padding:6px;border-radius:6px;cursor:pointer}
.compose-btn{background:var(--accent);color:white;padding:8px 14px;border-radius:8px;border:none;cursor:pointer;font-weight:600}
.compose-btn:hover{background:var(--accent-700)}
.user-label{padding:6px 10px;background:transparent;border-radius:8px;color:var(--muted)}

/* search */
.search{width:460px;max-width:45vw;padding:10px;border-radius:24px;border:1px solid rgba(0,0,0,0.08);background:white;box-shadow:0 1px 2px rgba(0,0,0,0.03)}
.small-select,.small-input{padding:6px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:white;margin-inline:6px}

/* main layout */
.main{display:flex;flex:1;gap:16px;padding:16px;align-items:stretch}
.sidebar{width:220px;background:transparent;padding:8px;display:flex;flex-direction:column;gap:8px}
.side-item{display:block;text-align:right;padding:8px;border-radius:8px;border:none;background:transparent;cursor:pointer;color:var(--muted)}
.side-item.active{background:rgba(26,115,232,0.08);color:var(--accent);font-weight:600}
.section-title{font-size:13px;color:var(--muted);margin-bottom:6px}
.tags{display:flex;flex-direction:column;gap:6px}
.small-btn{padding:6px 8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:white;cursor:pointer}
.alias-btn{display:inline-block;padding:6px 8px;border-radius:999px;border:1px solid rgba(0,0,0,0.06);margin:4px;cursor:pointer}

/* list pane */
.list-pane{flex:0 0 480px;background:var(--surface);border-radius:var(--card-radius);padding:10px;box-shadow:0 6px 18px var(--shadow)}
.list-tools{display:flex;gap:8px;align-items:center;margin-bottom:10px;flex-wrap:wrap}
.message-list{display:flex;flex-direction:column;gap:8px;max-height:calc(100vh - 200px);overflow:auto;padding-right:4px}
.msg-item{display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.03);cursor:pointer;background:linear-gradient(180deg,#fff,#fbfdff)}
.msg-item.unread{border-left:4px solid var(--accent);background:linear-gradient(180deg,#fff,#f7fbff)}
.msg-left{display:flex;flex-direction:column;align-items:flex-end;min-width:80px}
.msg-sender{font-weight:700}
.msg-subject{font-weight:600;margin-top:2px}
.msg-snippet{color:var(--muted);font-size:13px}

/* preview */
.preview-pane{flex:1;background:var(--surface);border-radius:var(--card-radius);padding:14px;box-shadow:0 6px 18px var(--shadow);display:flex;flex-direction:column}
.preview-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.preview-subject{font-size:18px;font-weight:700}
.preview-meta{color:var(--muted);font-size:13px;margin-bottom:8px}
.preview-body{flex:1;white-space:pre-wrap;padding:10px;border-radius:8px;background:#fbfdff;border:1px dashed rgba(0,0,0,0.03)}
.preview-attachments{margin-top:8px;display:flex;gap:8px;flex-wrap:wrap}
.attachment-preview .thumb{width:84px;height:64px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);display:flex;align-items:center;justify-content:center;background:#fff}

/* thread replies */
.thread-replies{margin-top:12px;display:flex;flex-direction:column;gap:8px;max-height:220px;overflow:auto;padding:6px}
.reply-card{padding:8px;border-radius:8px;background:#fffef6;border:1px solid rgba(0,0,0,0.03);font-size:14px}

/* modal compose */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(11,15,25,0.45);z-index:60;opacity:0;pointer-events:none;transition:all .18s ease}
.modal[aria-hidden="false"]{opacity:1;pointer-events:auto}
.modal-card{width:760px;max-width:95%;background:var(--surface);border-radius:12px;padding:12px;box-shadow:0 20px 60px var(--shadow)}
.modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.compose-form .field{display:flex;flex-direction:column;margin-bottom:8px}
.compose-form .field.small{display:flex;gap:8px;align-items:center}
.compose-actions{display:flex;align-items:center;gap:8px;justify-content:flex-start;margin-top:8px}
.primary{background:var(--accent);color:white;padding:10px 16px;border-radius:8px;border:none;cursor:pointer}
.secondary{background:#f3f4f6;padding:8px 12px;border-radius:8px;border:1px solid rgba(0,0,0,0.04)}

/* toast */
.toast{position:fixed;left:16px;bottom:16px;background:#111;color:white;padding:10px 14px;border-radius:8px;opacity:0.95}

/* responsive */
@media (max-width:1000px){
  .sidebar{display:none}
  .list-pane{flex:1}
  .preview-pane{display:none}
}

/* dark mode */
:root.dark {
  --bg:#0f1724;
  --surface:#0b1220;
  --muted:#9aa4b2;
  --accent:#8ab4ff;
  --accent-700:#5f87d6;
  color-scheme: dark;
}
:root.dark body{background:var(--bg)}
:root.dark .compose-btn{background:var(--accent);color:#021}
:root.dark .msg-item{background:#071022;border:1px solid rgba(255,255,255,0.03)}
:root.dark .preview-body{background: #071427;border:1px dashed rgba(255,255,255,0.03)}
