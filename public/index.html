<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>××ª×¨ ×”××©×¤×—×” - Ben Abou, Elharrar ×•×¢×•×“</title>
    <!-- ×˜×¢×™× ×ª Tailwind CSS ×•×’×•×¤×Ÿ Inter ×œ×˜×§×¡×˜ ××•×“×¨× ×™ ×•× ×§×™ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .hero-bg {
            background: linear-gradient(to bottom right, #0057a3, #003366);
        }
        .menu-item.hidden {
            display: none !important;
        }
        /* The @apply directive is not supported in style tags without a build process. 
           Styling is applied directly using Tailwind classes on the elements. */
    </style>
    <!-- NOTE: It's best to use only one chat widget. I'm keeping Chatway and commenting out the others. -->
    <!--<script id="chatway" async="true" src="https://cdn.chatway.app/widget.js?id=vJrCwuXPSFOm"></script>-->
    <script src="//code.tidio.co/wnmxintabp8xi2frtmizt5q9sopbk32o.js" async></script>
    <!-- <script type="text/javascript">
    (function(d, m){
        var kommunicateSettings = 
            {"appId":"bc088f1083ad1ac15179ce64f6b0dccb","popupWidget":true,"automaticChatOpenOnNavigation":true};
        var s = document.createElement("script"); s.type = "text/javascript"; s.async = true;
        s.src = "https://widget.kommunicate.io/v2/kommunicate.app";
        var h = document.getElementsByTagName("head")[0]; h.appendChild(s);
        window.kommunicate = m; m._globals = kommunicateSettings;
    })(document, window.kommunicate || {});
    </script> -->
 <!---<script>--//
  window.addEventListener('mouseover', initLandbot, { once: true });
  window.addEventListener('touchstart', initLandbot, { once: true });
  var myLandbot;
  function initLandbot() {
    if (!myLandbot) {
      var s = document.createElement('script');
      s.type = "module"
      s.async = true;
      s.addEventListener('load', function() {
        var myLandbot = new Landbot.Livechat({
          configUrl: 'https://storage.googleapis.com/landbot.online/v3/H-3273530-Y5W1QU9ZFOA18SDC/index.json',
        });
      });
      s.src = 'https://cdn.landbot.io/landbot-3/landbot-3.0.0.mjs';
      var x = document.getElementsByTagName('script')[0];
      x.parentNode.insertBefore(s, x);
    }
  }-//
</script>---!>
</head>
<body class="bg-gray-50 text-gray-800">
    <!-- Hero Section with Gradient -->
    <header class="hero-bg text-white p-6 text-center font-bold rounded-b-3xl shadow-lg relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-full bg-blue-800 opacity-20"></div>
        <div class="relative z-10">
            <div class="absolute top-4 right-4 flex items-center space-x-2 z-20">
                <select id="langSelector" class="p-2 rounded-lg bg-blue-700/50 text-white cursor-pointer font-semibold backdrop-blur-sm transition-colors hover:bg-blue-600/70">
                    <option value="he">×¢×‘×¨×™×ª</option>
                    <option value="en">English</option>
                    <option value="fr">FranÃ§ais</option>
                    <option value="yi">×™×™×“×™×©</option>
                    <option value="nl">Nederlands</option>
                    <option value="rl">Request Language</option>
                </select>
            </div>
            <!-- FIX: Replaced broken image link with a placeholder -->
            <img src="/assets/logo.png" alt="×œ×•×’×• ××©×¤×—×ª×™" class="logo mx-auto mb-4 w-24 h-24 rounded-full" />
            <h1 id="welcomeTitle" class="text-3xl md:text-5xl drop-shadow-lg animate-fade-in-down">×‘×¨×•×›×™× ×”×‘××™× ×œ××ª×¨ ×”××©×¤×—×”</h1>
            <h2 id="welcomeSubtitle" class="text-lg md:text-xl mt-2 drop-shadow-md animate-fade-in-up">Ben Abou â€¢ Elharrar â€¢ Malca â€¢ ×•×¢×•×“</h2>
        </div>
    </header>

    <section class="max-w-6xl mx-auto -mt-6 p-6 md:p-8 bg-white rounded-3xl shadow-xl relative z-20">
        <div class="flex flex-col md:flex-row items-center justify-between mb-4">
            <h3 id="search-title" class="text-2xl font-bold mb-4 md:mb-0">ğŸ” ×—×™×¤×•×© ×‘××ª×¨</h3>
            <!-- Container for user profile details -->
            <div id="user-profile" class="text-sm font-medium">
                <div id="user-profile-details"></div>
            </div>
        </div>
        <div class="search-wrapper relative max-w-xl mx-auto">
            <input type="text" id="search-input" placeholder="×”×§×œ×“ ×©× ××• ×ª×™××•×¨..." autocomplete="off" class="w-full p-3 pl-10 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500 transition-shadow" />
            <span class="search-icon absolute right-3 top-1/2 -translate-y-1/2 text-gray-400">ğŸ”</span>
            <ul id="results" class="search-results absolute top-full right-0 left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-y-auto z-10 hidden"></ul>
        </div>
    </section>

    <!-- Sticky Navigation Bar with backdrop-blur effect -->
    <!-- FIX: Applied Tailwind classes directly to each menu item, as @apply is not supported here. -->
    <nav class="menu-bar bg-white/80 backdrop-blur-md sticky top-0 z-50 flex flex-wrap justify-center p-2 md:p-4 gap-2 md:gap-4 shadow-lg rounded-b-2xl transition-all duration-300">
        <a id="menuHome" href="/" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md">ğŸ  ×¢××•×“ ×¨××©×™</a>
        <a id="menuTree" href="/tree-viewer.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ§¬</span> ×¢×¥ ×”××©×¤×—×”</a>
        <a id="menuBooks" href="/book.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ“–</span>×¡×¤×¨ ××©×¤×—×ª×™</a>
        <a id="menuChat" href="/chat.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ§‘â€ğŸ’»</span> ×¦'××˜ AI</a>
        <a id="menuContact" href="/contact-ways.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ“©</span> ×××¦×¢×™ ×ª×§×©×•×¨×ª ××©×¤×—×ª×™×™×</a>
        <a id="menuGallery" href="/gallery.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ–¼ï¸</span> ×’×œ×¨×™×™×ª ×ª××•× ×•×ª</a>
        <a id="menuMemorial" href="/memorial.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ•¯ï¸</span> ×§×™×¨ ×–×™×›×¨×•×Ÿ</a>
        <a id="menuTimeline" href="/timeline.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ—“ï¸</span> ×¦×™×¨ ×–××Ÿ</a>
        <a id="menuCalendar" href="/calendar.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ“†</span> ×œ×•×— ×©× ×”</a>
        <a id="menuForum" href="/forum.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ‘ª</span> ×¤×•×¨×•× ××©×¤×—×ª×™</a>
        <a id="menuBio" href="/biographies.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ“–</span> ×‘×™×•×’×¨×¤×™×•×ª</a>
        <a id="menuStats" href="/a.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ“Š</span> ×¡×˜×˜×™×¡×˜×™×§×•×ª</a>
        <a id="menuUpdate" href="/update-request.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md">×¢×“×›×•×Ÿ ×¤×¨×˜×™×</a>
        <a id="menuSearchAI" href="/search-ai.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md">×—×™×¤×•×© AI</a>
        <a id="menuMigration" href="/migration-map.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md">××¤×ª × ×“×•×“×™×</a>
        <a id="menuNewsletter" href="/newsletter.html" class="flex items-center gap-1 bg-blue-50 text-blue-900 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 hover:bg-blue-100 hover:scale-105 shadow-md"><span>ğŸ“°</span> ×¢×œ×•×Ÿ</a>
        <a id="menuLogin" href="/login.html" class="flex items-center gap-1 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 shadow-md bg-blue-500 text-white hover:bg-blue-600 hover:scale-105"><span>ğŸ”</span> ×›× ×™×¡×ª ××©×ª××©×™×</a>
        <a id="menuLogout" href="/logout" class="flex items-center gap-1 font-semibold text-sm md:text-base px-3 py-2 rounded-xl transition-all duration-200 shadow-md bg-red-500 text-white hover:bg-red-600 hover:scale-105 hidden">×”×ª× ×ª×§×•×ª</a>
    </nav>


    <main class="max-w-6xl mx-auto mt-8 p-6 md:p-8 bg-white rounded-3xl shadow-xl">
        <section class="mb-8 p-6 bg-blue-50 rounded-2xl shadow-inner">
            <h3 id="sectionWelcome" class="text-xl md:text-2xl font-bold mb-4 text-blue-900">ğŸŒŸ ×‘×¨×•×›×™× ×”×‘××™× ×œ××¨×›×– ×”××©×¤×—×ª×™</h3>
            <p id="intro1" class="text-base md:text-lg text-gray-700 leading-relaxed mb-4">××ª×¨ ×–×” × ×‘× ×” ×¢×‘×•×¨ ××©×¤×—×•×ª: ×‘×Ÿ ××‘×•, ××œ×—×¨×¨, ××œ×›×”, ×‘×Ÿ ×“×•×“, ×‘×¨×•××‘×¨×’, ×‘×¨× ×‘××•×, ×¤××¡-×©× ×§, ×•×™×™× ×‘×¨×’×¨, ×œ×™×™×‘× ×¨, ×•××Ÿ ×“×¨ ×•×œ×“×”, ×‘×”×¨, ×“×” ×¤×¨×™×¡, ××™×˜×œ×™×× ×“×¨, ××™×–×§×¡, ×©×¤×•×Ÿ, ×•×¢×•×“ â€“ ×œ×©×™×ª×•×£ ×ª××•× ×•×ª, ×”× ×¦×—×•×ª, ×¢×¥ ××©×¤×—×”, ×”×•×“×¢×•×ª ×•×¢×•×“.</p>
            <p id="intro2" class="text-base md:text-lg text-gray-700 leading-relaxed">× ×™×ª×Ÿ ×œ×”×™×›× ×¡ ×œ×¤×™ ×¦×“ ××©×¤×—×ª×™, ×œ×¢×“×›×Ÿ ×¤×¨×˜×™×, ×œ×©×•×—×— ×¢× ×¦×³××˜ AI ××©×¤×—×ª×™ ×•×œ×—×•×•×ª ×™×—×“ ×”×™×¡×˜×•×¨×™×” ××ª×•×¢×“×ª.</p>
        </section>

        <section class="mb-8">
            <h3 id="sectionTree" class="text-2xl md:text-3xl font-bold mb-4 text-blue-900">×‘×¨×•×›×™× ×”×‘××™× ×œ×¢×¥ ×”××©×¤×—×” ×©×œ× ×•</h3>
            <ul class="features grid grid-cols-1 md:grid-cols-2 gap-4" id="featuresList">
                <li class="p-4 bg-gray-100 rounded-lg shadow-sm transition-all duration-300 hover:bg-blue-50 hover:shadow-md">ğŸŒ³ ×¢×¥ ××©×¤×—×” ××™× ×˜×¨××§×˜×™×‘×™</li>
                <li class="p-4 bg-gray-100 rounded-lg shadow-sm transition-all duration-300 hover:bg-blue-50 hover:shadow-md">ğŸ” ×›× ×™×¡×ª ××©×ª××©×™× ×•×”×¨×©××•×ª ×œ×¤×™ ×¦×“ ××©×¤×—×ª×™</li>
                <li class="p-4 bg-gray-100 rounded-lg shadow-sm transition-all duration-300 hover:bg-blue-50 hover:shadow-md">ğŸ’¬ ×§×™×¨ ××©×¤×—×ª×™ ×œ×¤×•×¡×˜×™× ×•×ª×’×•×‘×•×ª</li>
                <li class="p-4 bg-gray-100 rounded-lg shadow-sm transition-all duration-300 hover:bg-blue-50 hover:shadow-md">ğŸ“¨ ××¢×¨×›×ª ×”×•×“×¢×•×ª ×¤× ×™××™×ª</li>
                <li class="p-4 bg-gray-100 rounded-lg shadow-sm transition-all duration-300 hover:bg-blue-50 hover:shadow-md">ğŸ–¼ï¸ ×ª×¦×•×’×ª ×’×œ×¨×™×” ×œ××¡××›×™× ×•×ª××•× ×•×ª</li>
                <li class="p-4 bg-gray-100 rounded-lg shadow-sm transition-all duration-300 hover:bg-blue-50 hover:shadow-md">ğŸ•¯ï¸ ×¢××•×“×™ ×”× ×¦×—×” ×¢× × ×¨ ×“×™×’×™×˜×œ×™</li>
                <li class="p-4 bg-gray-100 rounded-lg shadow-sm transition-all duration-300 hover:bg-blue-50 hover:shadow-md">ğŸŒ ×ª×¤×¨×™×˜ ×¨×‘-×œ×©×•× ×™</li>
                <li class="p-4 bg-gray-100 rounded-lg shadow-sm transition-all duration-300 hover:bg-blue-50 hover:shadow-md">ğŸ” ×—×™×¤×•×© ×—×›×</li>
                <!-- FIX: Replaced broken character with the correct emoji -->
                <li class="p-4 bg-gray-100 rounded-lg shadow-sm transition-all duration-300 hover:bg-blue-50 hover:shadow-md">ğŸ“§× ×™×•×–×œ×™×˜×•×¨ ××©×¤×—×ª×™</li>
                <li class="p-4 bg-gray-100 rounded-lg shadow-sm transition-all duration-300 hover:bg-blue-50 hover:shadow-md">ğŸ¤– ×¦â€™××˜ AI ××©×¤×—×ª×™ ×¢× ×ª××™×›×” ×‘× ×ª×•× ×™ ××©×¤×—×”</li>
                <li class="p-4 bg-gray-100 rounded-lg shadow-sm transition-all duration-300 hover:bg-blue-50 hover:shadow-md">ğŸ“± ×ª××™×›×” ×‘×¢×™×¦×•×‘ ×¨×¡×¤×•× ×¡×™×‘×™ ×œ× ×™×™×“</li>
            </ul>
        </section>

        <section class="mb-8 p-6 bg-gray-50 rounded-2xl shadow-inner">
            <h3 id="newsTitle" class="text-xl md:text-2xl font-bold mb-4 text-blue-900">×—×“×©×•×ª ×•×¢×“×›×•× ×™×</h3>
            <ul id="newsList" class="list-disc list-inside space-y-3">
                <li class="text-gray-700 transition-transform duration-300 hover:translate-x-2">×”×•×¡×¤× ×• ×™×›×•×œ×ª ×”×¢×œ××ª ×ª××•× ×•×ª ×œ×¢×¥ ×”××©×¤×—×”.</li>
                <li class="text-gray-700 transition-transform duration-300 hover:translate-x-2">× ×¤×ª×—×” ××¢×¨×›×ª ×”×”×•×“×¢×•×ª ×”×¤× ×™××™×ª ×œ×›×œ ×”××©×ª××©×™×.</li>
                <li class="text-gray-700 transition-transform duration-300 hover:translate-x-2">× ×™×ª×Ÿ ×œ×”×“×œ×™×§ × ×¨ ×“×™×’×™×˜×œ×™ ×œ×¢×™×œ×•×™ × ×©××ª ×™×§×™×¨×™×›×.</li>
            </ul>
        </section>

        <section class="hero-image">
            <!-- FIX: Replaced broken image link with a placeholder -->
            <img src="/assets/family-hero.png" alt="×ª××•× ×ª ××©×¤×—×”" class="w-full h-auto rounded-3xl shadow-xl transition-transform duration-500 hover:scale-[1.01]" />
        </section>
    </main>

    <footer class="bg-gray-900 text-white text-center p-6 rounded-t-3xl shadow-inner mt-8">
        <p class="text-sm md:text-base opacity-90">
            <span id="footerText">Â© 2025 ××ª×¨ ×”××©×¤×—×” â€¢ × ×‘× ×” ×‘××”×‘×” ×¢"×™ ×”××©×¤×—×” â€¢</span>
            <a id="adminLink" href="/admin.html" class="text-blue-300 hover:underline transition-colors">ğŸ› ï¸ × ×™×”×•×œ</a>
        </p>
    </footer>

    <script>
        const translations = {
            he: {
                title: "××ª×¨ ×”××©×¤×—×” - Ben Abou, Elharrar ×•×¢×•×“",
                welcomeTitle: "×‘×¨×•×›×™× ×”×‘××™× ×œ××ª×¨ ×”××©×¤×—×”",
                welcomeSubtitle: "×‘×Ÿ ××‘×• â€¢ ×‘×¨×•××‘×¨×’ â€¢ ××œ×—×¨×¨ â€¢ ×•×¢×•×“",
                searchTitle: "ğŸ” ×—×™×¤×•×© ×‘××ª×¨",
                searchPlaceholder: "×”×§×œ×“ ×©× ××• ×ª×™××•×¨...",
                sectionWelcome: "ğŸŒŸ ×‘×¨×•×›×™× ×”×‘××™× ×œ××¨×›×– ×”××©×¤×—×ª×™",
                intro1: "××ª×¨ ×–×” × ×‘× ×” ×¢×‘×•×¨ ××©×¤×—×•×ª: ×‘×Ÿ ××‘×•, ××œ×—×¨×¨, ××œ×›×”, ×‘×Ÿ ×“×•×“,××œ×•×§, ×‘×¨×•××‘×¨×’, ×‘×¨× ×‘××•×, ×¤××¡,×©× ×§, ×•×™×™× ×‘×¨×’×¨, ×œ×™×™×‘× ×¨, ×•××Ÿ ×“×¨ ×•×œ×“×”, ××™×–×§×¡ ×•×¢×•×“ â€“ ×œ×©×™×ª×•×£ ×ª××•× ×•×ª, ×”× ×¦×—×•×ª, ×¢×¥ ××©×¤×—×”, ×”×•×“×¢×•×ª ×•×¢×•×“.",
                intro2: "× ×™×ª×Ÿ ×œ×”×™×›× ×¡ ×œ×¤×™ ×¦×“ ××©×¤×—×ª×™, ×œ×¢×“×›×Ÿ ×¤×¨×˜×™×, ×œ×©×•×—×— ×¢× ×¦×³××˜ AI ××©×¤×—×ª×™ ×•×œ×—×•×•×ª ×™×—×“ ×”×™×¡×˜×•×¨×™×” ××ª×•×¢×“×ª.",
                sectionTree: "×‘×¨×•×›×™× ×”×‘××™× ×œ×¢×¥ ×”××©×¤×—×” ×©×œ× ×•",
                features: ["ğŸŒ³ ×¢×¥ ××©×¤×—×” ××™× ×˜×¨××§×˜×™×‘×™", "ğŸ” ×›× ×™×¡×ª ××©×ª××©×™× ×•×”×¨×©××•×ª ×œ×¤×™ ×¦×“ ××©×¤×—×ª×™", "ğŸ’¬ ×§×™×¨ ××©×¤×—×ª×™ ×œ×¤×•×¡×˜×™× ×•×ª×’×•×‘×•×ª", "ğŸ“¨ ××¢×¨×›×ª ×”×•×“×¢×•×ª ×¤× ×™××™×ª", "ğŸ–¼ï¸ ×ª×¦×•×’×ª ×’×œ×¨×™×” ×œ××¡××›×™× ×•×ª××•× ×•×ª", "ğŸ•¯ï¸ ×¢××•×“×™ ×”× ×¦×—×” ×¢× × ×¨ ×“×™×’×™×˜×œ×™", "ğŸŒ ×ª×¤×¨×™×˜ ×¨×‘-×œ×©×•× ×™", "ğŸ” ×—×™×¤×•×© ×—×›×", "ğŸ“§ × ×™×•×–×œ×˜×¨ ×—×•×“×©×™", "ğŸ¤– ×¦â€™××˜ AI ××©×¤×—×ª×™ ×¢× ×ª××™×›×” ×‘× ×ª×•× ×™ ××©×¤×—×”", "ğŸ“± ×ª××™×›×” ×‘×¢×™×¦×•×‘ ×¨×¡×¤×•× ×¡×™×‘×™ ×œ× ×™×™×“"],
                newsTitle: "×—×“×©×•×ª ×•×¢×“×›×•× ×™×",
                news: ["×”×•×¡×¤× ×• ×™×›×•×œ×ª ×”×¢×œ××ª ×ª××•× ×•×ª ×œ×¢×¥ ×”××©×¤×—×”.", "× ×¤×ª×—×” ××¢×¨×›×ª ×”×”×•×“×¢×•×ª ×”×¤× ×™××™×ª ×œ×›×œ ×”××©×ª××©×™×.", "× ×™×ª×Ÿ ×œ×”×“×œ×™×§ × ×¨ ×“×™×’×™×˜×œ×™ ×œ×¢×™×œ×•×™ × ×©××ª ×™×§×™×¨×™×›×."],
                footerText: "Â© 2025 ××ª×¨ ×”××©×¤×—×” â€¢ × ×‘× ×” ×‘××”×‘×” ×¢\"×™ ×”××©×¤×—×” â€¢",
                adminLink: "ğŸ› ï¸ × ×™×”×•×œ",
                // FIX: Corrected syntax errors (missing commas, misplaced characters) in the menus array.
                menus: ["ğŸ  ×¢××•×“ ×¨××©×™", "ğŸ§¬ ×¢×¥ ×”××©×¤×—×”", "ğŸ“– ×¡×¤×¨ ××©×¤×—×ª×™", "ğŸ§‘â€ğŸ’» ×¦'××˜ AI", "ğŸ“© ×××¦×¢×™ ×ª×§×©×•×¨×ª ××©×¤×—×ª×™×™×", "ğŸ–¼ï¸ ×’×œ×¨×™×™×ª ×ª××•× ×•×ª", "ğŸ•¯ï¸ ×§×™×¨ ×–×™×›×¨×•×Ÿ", "ğŸ—“ï¸ ×¦×™×¨ ×–××Ÿ", "ğŸ“† ×œ×•×— ×©× ×”", "ğŸ‘ª ×¤×•×¨×•× ××©×¤×—×ª×™", "ğŸ“– ×‘×™×•×’×¨×¤×™×•×ª", "ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×•×ª", "×¢×“×›×•×Ÿ ×¤×¨×˜×™×", "××¤×ª × ×“×•×“×™×", "ğŸ“° ×¢×œ×•×Ÿ", "ğŸ” ×›× ×™×¡×ª ××©×ª××©×™×", "×”×ª× ×ª×§×•×ª"],
                loggedInAs: "××—×•×‘×¨/×ª ×›:", role: "×ª×¤×§×™×“:", familySide: "×¦×“ ××©×¤×—×ª×™:", guest: "××•×¨×—"
            },
            en: {
                title: "Family Website - Ben Abou, Elharrar & more",
                welcomeTitle: "Welcome to the Family Website",
                welcomeSubtitle: "Ben Abou â€¢ Bromberg â€¢ Ellharrar â€¢ and more",
                searchTitle: "ğŸ” Search the site",
                searchPlaceholder: "Type a name or description...",
                sectionWelcome: "ğŸŒŸ Welcome to the Family Center",
                intro1: "This website was built for all families: Ben Abou, Elharrar, Malka, Ben David, Elook, Bromberg, Barenbaum, Fass,Schneck, Weinberger, Leibner, van der Velde, Izaks and more â€“ to share photos, memorials, family tree, announcements and more.",
                intro2: "You can join by family side, update details, chat with the Family AI Chatbot and experience documented history together.",
                sectionTree: "Welcome to our Family Tree",
                features: ["ğŸŒ³ Interactive Family Tree", "ğŸ” User login & permissions by family side", "ğŸ’¬ Family wall for posts & comments", "ğŸ“¨ Internal messaging system", "ğŸ–¼ï¸ Gallery view for documents & photos", "ğŸ•¯ï¸ Memorial pages with digital candles", "ğŸŒ Multilingual Menu", "ğŸ” Smart search", "ğŸ“§ Monthly Newsletter ", "ğŸ¤– Family AI Chat with family data", "ğŸ“± Responsive design for mobile"],
                newsTitle: "News & Updates",
                news: ["Photo upload to the family tree is now available.", "Internal messaging system is open to all users.", "You can light a digital candle in memory of loved ones."],
                footerText: "Â© 2025 Family Website â€¢ Built with love by the family â€¢",
                adminLink: "ğŸ› ï¸ Admin",
                 // FIX: Corrected syntax errors (missing commas) in the menus array.
                menus: ["ğŸ  Home", "ğŸ§¬ Family Tree", "ğŸ“– Family Book", "ğŸ§‘â€ğŸ’» AI Chat", "ğŸ“© Family Contacts", "ğŸ–¼ï¸ Gallery", "ğŸ•¯ï¸ Memorial Wall", "ğŸ—“ï¸ Timeline", "ğŸ“† Calendar", "ğŸ‘ª Family Forum", "ğŸ“– Biographies", "ğŸ“Š Statistics", "Update Details", "Migration Map", "ğŸ“° Newsletter", "ğŸ” Login", "Logout"],
                loggedInAs: "Logged in as:", role: "Role:", familySide: "Family Side:", guest: "Guest"
            },
            fr: {
                title: "Site de la Famille - Ben Abou, Elharrar et plus",
                welcomeTitle: "Bienvenue sur le site de la famille",
                welcomeSubtitle: "Ben Abou â€¢ Bromberg â€¢ Elharrar â€¢ et plus",
                searchTitle: "ğŸ” Rechercher sur le site",
                searchPlaceholder: "Tapez un nom ou une description...",
                sectionWelcome: "ğŸŒŸ Bienvenue au centre familial",
                intro1: "Ce site a Ã©tÃ© crÃ©Ã© pour toutes les familles : Ben Abou, Elharrar, Malka, Ben David, Elook, Bromberg, Barenbaum, Fass,Schneck, Weinberger, Leibner, van der Velde,Izaks et plus â€“ pour partager photos, commÃ©morations, arbre gÃ©nÃ©alogique, annonces et plus.",
                intro2: "Vous pouvez entrer par cÃ´tÃ© familial, mettre Ã  jour des dÃ©tails, discuter avec le Chat IA Familial et vivre ensemble une histoire documentÃ©e.",
                sectionTree: "Bienvenue dans notre arbre gÃ©nÃ©alogique",
                features: ["ğŸŒ³ Arbre gÃ©nÃ©alogique interactif", "ğŸ” Connexion & permissions par cÃ´tÃ© familial", "ğŸ’¬ Mur familial pour publications & commentaires", "ğŸ“¨ SystÃ¨me de messagerie interne", "ğŸ–¼ï¸ Galerie pour documents & photos", "ğŸ•¯ï¸ Pages commÃ©moratives avec bougies numÃ©riques", "ğŸŒ Menu multilingue", "ğŸ” Recherche intelligente", "ğŸ“§ Support bulletin", "ğŸ¤– Chat IA Familial avec donnÃ©es de famille", "ğŸ“± Design rÃ©actif pour mobile"],
                newsTitle: "ActualitÃ©s & mises Ã  jour",
                news: ["Ajout de lâ€™option de tÃ©lÃ©verser des photos dans lâ€™arbre gÃ©nÃ©alogique.", "Le systÃ¨me de messagerie interne est ouvert Ã  tous les utilisateurs.", "Vous pouvez allumer une bougie numÃ©rique en mÃ©moire de vos proches."],
                footerText: "Â© 2025 Site de la famille â€¢ Construit avec amour par la famille â€¢",
                adminLink: "ğŸ› ï¸ Admin",
                 // FIX: Corrected syntax errors (missing commas) in the menus array.
                menus: ["ğŸ  Accueil",  "ğŸ§¬ Arbre gÃ©nÃ©alogique", "ğŸ“– livre de famille", "ğŸ§‘â€ğŸ’» Chat IA", "ğŸ“© Contacts familiaux", "ğŸ–¼ï¸ Galerie", "ğŸ•¯ï¸ Mur commÃ©moratif", "ğŸ—“ï¸ Chronologie", "ğŸ“† Calendrier", "ğŸ‘ª Forum familial", "ğŸ“– Biographies", "ğŸ“Š Statistiques", "Mettre Ã  jour", "Carte migrations", "ğŸ“° Bulletin", "ğŸ” Connexion", "DÃ©connexion"],
                loggedInAs: "ConnectÃ©(e) en tant que:", role: "RÃ´le:", familySide: "CÃ´tÃ© de la famille:", guest: "InvitÃ©"
            },
            yi: {
                title: "×¤×××™×œ×™×¢ ×•×•×¢×‘×–×™×™×˜ - ×‘×Ÿ ××‘×•, ××œ×”×¨×¨ ××•×Ÿ ××¢×¨",
                welcomeTitle: "×‘×¨×•×š ×”×‘× ×¦×•× ×¤×××™×œ×™×¢ ×•×•×¢×‘×–×™×™×˜",
                welcomeSubtitle: "×‘×Ÿ ××‘×• â€¢ ×‘×¨×•××‘×¨×’ â€¢ ××œ×”×¨×¨ â€¢ ××•×Ÿ ××¢×¨",
                searchTitle: "ğŸ” ×–×•×š ××•×™×¤×Ÿ ×–×™×™×˜",
                searchPlaceholder: "×©×¨×™×™×‘ × × ×××¢×Ÿ ××“×¢×¨ ×‘××©×¨×™×™×‘×•× ×’...",
                sectionWelcome: "ğŸŒŸ ×‘×¨×•×š ×”×‘× ×¦×•× ×¤×××™×œ×™×¢ ×¦×¢× ×˜×¢×¨",
                intro1: "×“×¢×¨ ×–×™×™×˜ ××™×– ×’×¢×‘×•×™×˜ ×’×¢×•×•××¨×Ÿ ×¤××¨ ××œ×¢ ×¤×××™×œ×™×¢×¡: ×‘×Ÿ ××‘×•, ××œ×”×¨×¨, ×××œ×§×, ×‘×Ÿ ×“×•×“, ×‘×¨×•××‘×¢×¨×’, ×‘××¨× ×‘××•×, ×¤××¡,×©× ×¢×§, ×•×•×™×™× ×‘×¢×¨×’×¢×¨, ×œ×™×™×‘× ×¢×¨, ×•×•××Ÿ ×“×¢×¨ ×•×•××œ×“×¢, ×™×¦×—×§×¡ ××•×Ÿ ××¢×¨ â€“ ×¦×• ×˜×™×™×œ×Ÿ ×‘×™×œ×“×¢×¨, ×× ×“×¢× ×§×¢×Ÿ, ×¤×××™×œ×™×¢ ×‘×•×™×, ××¢×œ×“×•× ×’×¢×Ÿ ××•×Ÿ ××¢×¨.",
                intro2: "××™×¨ ×§×¢× ×˜ ××¨×™×™× ×’×™×™×Ÿ ×œ×•×™×˜ ×¤×××™×œ×™×¢ ×–×™×™×˜, ×“×¢×¨×”×™×™×‘×Ÿ ×“×¢×˜××œ×Ÿ, ×©××•×¢×¡×Ÿ ××™×˜ ×“×¢× ×¤×××™×œ×™×¢ ××™× ×˜×¢×œ×™×’×¢× ×˜ ×˜×©×Ö·×˜ ××•×Ÿ ×¦×•×–×××¢×Ÿ ××™×‘×¢×¨×œ×¢×‘×Ÿ ×“××§×•××¢× ×˜×™×¨×˜×¢ ×’×¢×©×™×›×˜×¢.",
                sectionTree: "×‘×¨×•×š ×”×‘× ×¦×• ××•× ×“×–×¢×¨ ×¤×××™×œ×™×¢ ×‘×•×™×",
                features: ["ğŸŒ³ ××™× ×˜×¢×¨××§×˜×™×•×• ×¤×××™×œ×™×¢ ×‘×•×™×", "ğŸ” ×‘×× ×•×¦×¢×¨ ××™×™× ×–×™×™×Ÿ ××•×Ÿ ×“×¢×¨×œ×•×™×‘× ×™×© ×œ×•×™×˜ ×¤×××™×œ×™×¢ ×–×™×™×˜", "ğŸ’¬ ×¤×××™×œ×™×¢ ×•×•×× ×˜ ×¤××¨ ×¤××¡×˜×¡ ××•×Ÿ ×§×××¢× ×˜××¨×Ÿ", "ğŸ“¨ ××™× ×¢×¨×œ×¢×š ××¢×¡×¢×“×–×©×™× ×’ ×¡×™×¡×˜×¢×", "ğŸ–¼ï¸ ×’××œ×¢×¨×™×¢ ×¤××¨ ×“××§×•××¢× ×˜×Ÿ ××•×Ÿ ×‘×™×œ×“×¢×¨", "ğŸ•¯ï¸ ×× ×“×¢× ×§ ×‘×œ××˜ ××™×˜ ×“×™×’×™×˜××œ×™×©×¢ ×œ×™×›×˜", "ğŸŒ ××¢×¨×©×¤×¨××›×™×§×¢ ××¢× ×™×•", "ğŸ” ×§×œ×•×’×¢ ×–×•×š", "ğŸ“§ × ×™×™Ö·×‘×œ×Ö·×˜ ×©×˜×™×¥", "ğŸ¤– ×¤×××™×œ×™×¢ ××™× ×˜×¢×œ×™×’×¢× ×˜ ×˜×©×Ö·×˜ ××™×˜ ×¤×××™×œ×™×¢ ×“××˜×Ÿ", "ğŸ“± ×¨×¢×¡×¤×× ×¡×™×•×• ×“×™×–×™×™×Ÿ ×¤××¨ ×××‘×™×œ"],
                newsTitle: "× ×™×™Ö·×¢×¡ ××•×Ÿ ×“×¢×¨×”×™×™×‘×•× ×’×¢×Ÿ",
                news: ["×¦×•×’×¢×’×¢×‘×Ÿ ×“×™ ××¢×’×œ×¢×›×§×™×™×˜ ×¦×• ×“×¢×¨×”×™×™×‘×Ÿ ×‘×™×œ×“×¢×¨ ×¦×• ×“×¢×¨ ×¤×××™×œ×™×¢ ×‘×•×™×.", "×“×¢×¨ ××™× ×¢×¨×œ×¢×š ××¢×¡×¢×“×–×©×™× ×’ ×¡×™×¡×˜×¢× ××™×– ××¤×Ÿ ×¤××¨ ××œ×¢ ×‘×× ×•×¦×¢×¨.", "××™×¨ ×§×¢× ×˜ ×Ö¸× ×¦×™× ×“×Ÿ × ×“×™×’×™×˜××œ×™×©×¢ ×œ×™×›×˜ ×œ×–×›×•×ª ××™×™×¢×¨×¢ ×œ×™×‘×¢ ×¤×¨×™×™× ×“."],
                footerText: "Â© 2025 ×¤×××™×œ×™×¢ ×•×•×¢×‘×–×™×™×˜ â€¢ ×’×¢×‘×•×™×˜ ××™×˜ ×œ×™×‘×¢ ×“×•×¨×š ×“×™ ×¤×××™×œ×™×¢ â€¢",
                adminLink: "ğŸ› ï¸ ××“××™×Ÿ",
                // FIX: Corrected syntax errors (missing commas) in the menus array.
                menus: ["ğŸ  ×”×•×™×¤Ö¼×˜ ×‘×œ×Ö·×˜"," ğŸ§¬ ×¤×××™×œ×™×¢ ×‘×•×™×", "ğŸ“– ××©×¤Ö¼×—×” ×‘×•×š", "ğŸ§‘â€ğŸ’» ××™× ×˜×¢×œ×™×’×¢× ×˜ ×˜×©×Ö·×˜", "ğŸ“© ×¤×××™×œ×™×¢ ×§×× ×˜××§×˜×Ÿ", "ğŸ–¼ï¸ ×’××œ×¢×¨×™×¢", "ğŸ•¯ï¸ ×× ×“×¢× ×§ ×•×•×× ×˜", "ğŸ—“ï¸ ×¦×™×™×˜-×œ×™× ×™×¢", "ğŸ“† ×§××œ×¢× ×“××¨", "ğŸ‘ª ×¤×××™×œ×™×¢ ×¤××¨×•×", "ğŸ“– ×‘×™××’×¨××¤×™×¢×¡", "ğŸ“Š ×¡×˜××˜×™×¡×˜×™×§", "×“×¢×¨×”×™×™×‘×Ÿ ×“×¢×˜××œ×Ÿ", "××Ö·×¤Ö¼×¢ ×¤×•×Ÿ ×•×•×Ö·× ×“×¢×¨×•× ×’×¢×Ÿ", "ğŸ“° × ×™×™Ö·×‘×œ×Ö·×˜", "ğŸ” ××¨×™×™× ×œ××’×Ÿ", "××•×™×¡×œ××’×Ÿ"],
                loggedInAs: "××¨×™×™× ×’×¢×–×¢×Ÿ ×•×•×™:", role: "×¨×Ö¸×œ×¢:", familySide: "×¤×××™×œ×™×¢ ×–×™×™×˜:", guest: "×’×Ö·×¡×˜"
            },
    nl: {
"title": "Familiewebsite - Ben Abou, Elharrar & meer",
"welcomeTitle": "Welkom op de Familiewebsite",
"welcomeSubtitle": "Ben Abou â€¢ Bromberg â€¢ Ellharrar â€¢ en meer",
"searchTitle": "ğŸ” Zoek op de site",
"searchPlaceholder": "Typ een naam of beschrijving...",
"sectionWelcome": "ğŸŒŸ Welkom bij het Familiecentrum",
"intro1": "Deze website is gebouwd voor alle families: Ben Abou, Elharrar, Malka, Ben David, Elook, Bromberg, Barenbaum, Fass, Schneck, Weinberger, Leibner, van der Velde, Izaks en meer â€“ om foto's, gedenktekens, stambomen, aankondigingen en meer te delen.",
"intro2": "Je kunt je aansluiten via een familielijn, gegevens bijwerken, chatten met de Familie AI Chatbot en samen gedocumenteerde geschiedenis beleven.",
"sectionTree": "Welkom bij onze Stamboom",
"features": [
"ğŸŒ³ Interactieve Stamboom",
"ğŸ” Gebruikerslogin & rechten per familielijn",
"ğŸ’¬ Familiewand voor berichten & opmerkingen",
"ğŸ“¨ Intern berichtensysteem",
"ğŸ–¼ï¸ Galerijweergave voor documenten & foto's",
"ğŸ•¯ï¸ Herdenkingspagina's met digitale kaarsen",
"ğŸŒ Meertalig Menu",
"ğŸ” Slim zoeken",
"ğŸ“§ Nieuwsbriefondersteuning",
"ğŸ¤– Familie AI Chat met familiegegevens",
"ğŸ“± Responsief ontwerp voor mobiel"
],
"newsTitle": "Nieuws & Updates",
"news": [
"Foto's uploaden naar de stamboom is nu beschikbaar.",
"Het interne berichtensysteem is geopend voor alle gebruikers.",
"Je kunt een digitale kaars aansteken ter nagedachtenis van dierbaren."
],
"footerText": "Â© 2025 Familiewebsite â€¢ Gebouwd met liefde door de familie â€¢",
"adminLink": "ğŸ› ï¸ Beheer",
"menus": [
"ğŸ  Home",
"ğŸ§¬ Stamboom",
"ğŸ“– Familieboek",
"ğŸ§‘â€ğŸ’» AI Chat",
"ğŸ“© Familiecontacten",
"ğŸ–¼ï¸ Galerij",
"ğŸ•¯ï¸ Herdenkingsmuur",
"ğŸ—“ï¸ Tijdlijn",
"ğŸ“† Kalender",
"ğŸ‘ª Familieforum",
"ğŸ“– BiografieÃ«n",
"ğŸ“Š Statistieken",
"Gegevens Bijwerken",
"Migratiekaart",
"ğŸ“° Nieuwsbrief",
"ğŸ” Inloggen",
"Uitloggen"
],
"loggedInAs": "Ingelogd als:",
"role": "Rol:",
"familySide": "Familielijn:",
"guest": "Gast"
}

              };

const updateContent = (lang, isLoggedIn, user) => {
  console.log("ğŸ” updateContent called with:", lang);

  // × ×‘×“×•×§ ×× ×”×©×¤×” ×§×™×™××ª ×‘××•×‘×™×™×§×˜ ×”×ª×¨×’×•××™×
  console.log("ğŸŒ translation found:", translations[lang]);
  
  const texts = translations[lang];
  if (!texts) {
    console.warn("âš ï¸ No translation found for language:", lang);
    return;
  }

Â  Â  Â  Â  Â  Â  // ×¢×“×›×•×Ÿ HTML, dir ×•-title

Â  Â  Â  Â  Â  Â  document.documentElement.lang = lang;
Â  Â  Â  Â  Â  Â  document.documentElement.setAttribute("dir", (lang === "he" || lang === "yi") ? "rtl" : "ltr");
Â  Â  Â  Â  Â  Â  document.title = texts.title;
    
Â  Â  Â  Â  Â  Â  const textElementsMap = {
Â  Â  Â  Â  Â  Â  Â  Â  "welcomeTitle": "welcomeTitle",
Â  Â  Â  Â  Â  Â  Â  Â  "welcomeSubtitle": "welcomeSubtitle",
Â  Â  Â  Â  Â  Â  Â  Â  "search-title": "searchTitle",
Â  Â  Â  Â  Â  Â  Â  Â  "search-input": "searchPlaceholder",
Â  Â  Â  Â  Â  Â  Â  Â  "sectionWelcome": "sectionWelcome",
Â  Â  Â  Â  Â  Â  Â  Â  "intro1": "intro1",
Â  Â  Â  Â  Â  Â  Â  Â  "intro2": "intro2",
Â  Â  Â  Â  Â  Â  Â  Â  "sectionTree": "sectionTree",
Â  Â  Â  Â  Â  Â  Â  Â  "newsTitle": "newsTitle",
Â  Â  Â  Â  Â  Â  Â  Â  "footerText": "footerText",
Â  Â  Â  Â  Â  Â  Â  Â  "adminLink": "adminLink"
Â  Â  Â  Â  Â  Â  };



Â  Â  Â  Â  Â  Â  // ×¢×“×›×•×Ÿ ××œ×× ×˜×™× ×œ×¤×™ ID

Â  Â  Â  Â  Â  Â  for (const id in textElementsMap) {
Â  Â  Â  Â  Â  Â  Â  Â  const key = textElementsMap[id];
Â  Â  Â  Â  Â  Â  Â  Â  const element = document.getElementById(id);
Â  Â  Â  Â  Â  Â  Â  Â  if (element) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (element.tagName === "INPUT") {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  element.placeholder = texts.searchPlaceholder;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  element.textContent = texts[key];
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  // ×¢×“×›×•×Ÿ ×¨×©×™××•×ª

Â  Â  Â  Â  Â  Â  const featuresList = document.getElementById("featuresList");
Â  Â  Â  Â  Â  Â  if (featuresList) {
Â  Â  Â  Â  Â  Â  Â  Â  featuresList.innerHTML = texts.features.map(item => `<li class="feature-item">${item}</li>`).join('');
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  const newsList = document.getElementById("newsList");
Â  Â  Â  Â  Â  Â  if (newsList) {
Â  Â  Â  Â  Â  Â  Â  Â  newsList.innerHTML = texts.news.map(item => `<li class="text-gray-700 transition-transform duration-300 hover:translate-x-2">${item}</li>`).join('');
Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  // ×¢×“×›×•×Ÿ ×ª×¤×¨×™×˜ ×”× ×™×•×•×˜

Â  Â  Â  Â  Â  Â  const menuLogin = document.getElementById('menuLogin');
Â  Â  Â  Â  Â  Â  const menuLogout = document.getElementById('menuLogout');
Â  Â  Â  Â  Â  Â  const menuItems = document.querySelectorAll('.menu-bar a');
Â  Â  Â  Â  Â  Â  menuItems.forEach((link, index) => {
Â  Â  Â  Â  Â  Â  Â  Â  const linkId = link.id;
Â  Â  Â  Â  Â  Â  Â  Â  if (linkId === 'menuLogin') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isLoggedIn) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.innerHTML = texts.menus[texts.menus.length - 2];
Â  Â  Â  Â  Â  Â  Â  Â  } else if (linkId === 'menuLogout') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (isLoggedIn) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.innerHTML = texts.menus[texts.menus.length - 1];
Â  Â  Â  Â  Â  Â  Â  Â  } else if (texts.menus[index]) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  link.innerHTML = texts.menus[index];
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â // ×¢×“×›×•×Ÿ ×¤×¨×˜×™ ××©×ª××©
Â  Â  Â  Â  Â  Â  const profileDiv = document.getElementById('user-profile-details');
Â  Â  Â  Â  Â  Â  if (profileDiv) {
Â  Â  Â  Â  Â  Â  Â  Â  if (isLoggedIn) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  let familySideHTML = user.familySide || "";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (user.familySideLink) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  familySideHTML = `<a href="${user.familySideLink}" target="_blank" class="text-blue-500 hover:underline transition-colors">${user.familySide}</a>`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  profileDiv.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center space-x-2 rtl:space-x-reverse">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="font-bold text-sm text-gray-800">${texts.loggedInAs}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-sm font-semibold text-blue-800">${user.username}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center space-x-2 rtl:space-x-reverse mt-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="font-bold text-sm text-gray-800">${texts.role}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-sm font-medium text-gray-600">${user.role}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="flex items-center space-x-2 rtl:space-x-reverse mt-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="font-bold text-sm text-gray-800">${texts.familySide}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="text-sm font-medium text-gray-600">${familySideHTML}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  profileDiv.innerHTML = `<a href="/login.html" class="font-bold text-blue-900 hover:underline transition-colors">${texts.menus[texts.menus.length - 2]}</a>`;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  };



Â  Â  Â  Â  document.addEventListener("DOMContentLoaded", () => {
Â  Â  Â  Â  Â  Â  const langSelector = document.getElementById("langSelector");
Â  Â  Â  Â  Â  Â  const logoutButton = document.getElementById('menuLogout');
Â  Â  Â  Â  Â  Â  let currentLang = localStorage.getItem("lang") || "he";

Â  Â  Â  Â  Â  Â Â 

Â  Â  Â  Â  Â  Â  // ×¢×“×›×•×Ÿ ×”×©×¤×” ×”×¨××©×•× ×™×ª ×©×œ ×”-select
Â  Â  Â  Â  Â  Â  langSelector.value = currentLang;

Â  Â  Â  Â  Â  Â  // ×œ×•×’×™×§×” ×œ×”×ª× ×ª×§×•×ª

Â  Â  Â  Â  Â  Â  if (logoutButton) {
Â  Â  Â  Â  Â  Â  Â  Â  logoutButton.addEventListener('click', async (event) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  event.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch('/api/logout', {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST'
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.location.href = '/'; // × ×™×•×•×˜ ×œ×¢××•×“ ×”×¨××©×™ ×œ××—×¨ ×”×ª× ×ª×§×•×ª
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('×©×’×™××” ×‘×”×ª× ×ª×§×•×ª.');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('Logout failed:', error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('×©×’×™××” ×‘×”×ª× ×ª×§×•×ª.');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }



Â  Â  Â  Â  Â  Â  // ×¡×™××•×œ×¦×™×” ×©×œ ×§×¨×™××” ×œ×©×¨×ª
Â  Â  Â  Â  Â  Â  fetch("/api/user")
Â  Â  Â  Â  Â  Â  Â  Â  .then(res => res.ok ? res.json() : Promise.reject("User not logged in"))
Â  Â  Â  Â  Â  Â  Â  Â  .then(data => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateContent(currentLang, true, data.user);
Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  .catch(error => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error("Error fetching user data:", error);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateContent(currentLang, false, null);
Â  Â  Â  Â  Â  Â  Â  Â  });



Â  Â  Â  Â  Â  Â  // ×”××–× ×” ×œ×©×™× ×•×™ ×©×¤×”
Â  Â  Â  Â  Â  Â  langSelector.addEventListener("change", (event) => {
Â  Â  Â  Â  Â  Â  Â  Â  currentLang = event.target.value;
Â  Â  Â  Â  Â  Â  Â  Â  localStorage.setItem("lang", currentLang);
Â  Â  Â  Â  Â  Â  Â  Â  fetch("/api/user")
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .then(res => res.ok ? res.json() : Promise.reject("User not logged in"))
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .then(data => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateContent(currentLang, true, data.user);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  })
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .catch(error => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  updateContent(currentLang, false, null);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  });

Â  Â  </script>
</body>
</html>

