<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>××ª×¨ ×”××©×¤×—×” - Ben Abou, Bromberg ×•×¢×•×“</title>
    <link rel="stylesheet" href="/style.css" />
    <style>
        /* CSS ×§×™×™××™× */
        body {
            font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            background: #f2f6fc;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #0057a3;
            color: white;
            padding: 1rem;
            text-align: center;
            font-size: 1.8rem;
            font-weight: bold;
        }
        .menu-bar {
            background: #e9f1fb;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            padding: 10px;
            gap: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            border-bottom: 1px solid #ccc;
        }
        .menu-bar a {
            display: flex;
            align-items: center;
            gap: 6px;
            background-color: white;
            color: #003366;
            text-decoration: none;
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: background 0.3s;
        }
        .menu-bar a:hover {
            background-color: #dceeff;
        }
        .content {
            max-width: 900px;
            margin: 2rem auto;
            padding: 1rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        #langSelector {
            padding: 0.5rem;
            border-radius: 6px;
            background: #0057a3;
            color: white;
            cursor: pointer;
            font-weight: bold;
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
        }
    </style>
</head>
<body>
    <header>
        <div id="user-profile" style="text-align:left; padding:0.5rem;"></div>
        <select id="langSelector">
            <option value="he">×¢×‘×¨×™×ª</option>
            <option value="en">English</option>
            <option value="fr">FranÃ§ais</option>
            <option value="yi">×™×™×“×™×©</option>
        </select>
        <img src="/assets/logo.png" alt="×œ×•×’×• ××©×¤×—×ª×™" class="logo" />
        <h1 id="welcomeTitle">×‘×¨×•×›×™× ×”×‘××™× ×œ××ª×¨ ×”××©×¤×—×”</h1>
        <h2 id="welcomeSubtitle">Ben Abou â€¢ Elharrar â€¢ Malca â€¢ ×•×¢×•×“</h2>
    </header>

    <section class="content">
        <h1 id="search-title">ğŸ” ×—×™×¤×•×© ×‘××ª×¨</h1>
        <div class="search-wrapper" style="position:relative; max-width:400px;">
            <input type="text" id="search-input" placeholder="×”×§×œ×“ ×©× ××• ×ª×™××•×¨..." autocomplete="off" />
            <span class="search-icon" style="position:absolute; right:10px; top:50%; transform:translateY(-50%); font-size:1.2rem;">ğŸ”</span>
            <ul id="results" class="search-results" style="position:absolute; top:110%; right:0; left:0; background:white; border:1px solid #ccc; border-radius:6px; max-height:200px; overflow-y:auto; display:none; z-index:100;"></ul>
        </div>
    </section>

    <nav class="menu-bar">
        <a id="menuHome" href="/">ğŸ  ×¢××•×“ ×¨××©×™</a>
        <a id="menuUpdates" href="about.html"><span>â„¹ï¸</span> ×¢××•×“ ×”×¢×“×›×•× ×™×</a>
        <a id="menuTree" href="/tree.html"><span>ğŸ§¬</span> ×¢×¥ ×”××©×¤×—×”</a>
        <a id="menuChat" href="/chat.html"><span>ğŸ§‘â€ğŸ’»</span> ×¦'××˜ AI</a>
        <a id="menuContact" href="/contact-ways.html"><span>ğŸ“©</span> ×××¦×¢×™ ×ª×§×©×•×¨×ª ××©×¤×—×ª×™×™×</a>
        <a id="menuGallery" href="/gallery.html"><span>ğŸ–¼ï¸</span> ×’×œ×¨×™×™×ª ×ª××•× ×•×ª</a>
        <a id="menuMemorial" href="/memorial.html"><span>ğŸ•¯ï¸</span> ×§×™×¨ ×–×™×›×¨×•×Ÿ</a>
        <a id="menuTimeline" href="/timeline.html"><span>ğŸ—“ï¸</span> ×¦×™×¨ ×–××Ÿ</a>
        <a id="menuCalendar" href="/calendar.html"><span>ğŸ“†</span> ×œ×•×— ×©× ×”</a>
        <a id="menuForum" href="/forum.html"><span>ğŸ‘ª</span> ×¤×•×¨×•× ××©×¤×—×ª×™</a>
        <a id="menuBio" href="/biographies.html"><span>ğŸ“–</span> ×‘×™×•×’×¨×¤×™×•×ª</a>
        <a id="menuStats" href="/family-stats.html"><span>ğŸ“Š</span> ×¡×˜×˜×™×¡×˜×™×§×•×ª</a>
        <a id="menuUpdate" href="/update-request.html">×¢×“×›×•×Ÿ ×¤×¨×˜×™×</a>
        <a id="menuUploadPhoto" href="/upload-photo.html">×”×¢×œ××ª ×ª××•× ×•×ª</a>
        <a id="menuUploadVideo" href="/upload-video.html">×”×¢×œ××ª ×¡×¨×˜×•×Ÿ</a>
        <a id="menuSearchAI" href="/search-ai.html">×—×™×¤×•×© AI</a>
        <a id="menuMigration" href="/migration-map.html">××¤×ª × ×“×•×“×™×</a>
        <a id="menuNewsletter" href="/newsletter.html"><span>ğŸ“°</span> ×¢×œ×•×Ÿ</a>
        <a id="menuLogin" href="/login.html"><span>ğŸ”</span> ×›× ×™×¡×ª ××©×ª××©×™×</a>
        <a id="menuLogout" href="/logout">×”×ª× ×ª×§×•×ª</a>
    </nav>

    <main class="content">
        <section>
            <h3 id="sectionWelcome">ğŸŒŸ ×‘×¨×•×›×™× ×”×‘××™× ×œ××¨×›×– ×”××©×¤×—×ª×™</h3>
            <p id="intro1">××ª×¨ ×–×” × ×‘× ×” ×¢×‘×•×¨ ×›×œ ×”××©×¤×—×•×ª: Ben Abou, Elharrar, Malca, Ben David, Bromberg, Barenbaum, Fass-Schneck, Weinberger, Leibner, van der Velde, Behr, de Vries, Italiaander, Izaks, Chapon, ×•×¢×•×“ â€“ ×œ×©×™×ª×•×£ ×ª××•× ×•×ª, ×”× ×¦×—×•×ª, ×¢×¥ ××©×¤×—×”, ×”×•×“×¢×•×ª ×•×¢×•×“.</p>
            <p id="intro2">× ×™×ª×Ÿ ×œ×”×™×›× ×¡ ×œ×¤×™ ×¦×“ ××©×¤×—×ª×™, ×œ×¢×“×›×Ÿ ×¤×¨×˜×™×, ×œ×©×•×—×— ×¢× ×¦×³××˜ AI ××©×¤×—×ª×™ ×•×œ×—×•×•×ª ×™×—×“ ×”×™×¡×˜×•×¨×™×” ××ª×•×¢×“×ª.</p>
        </section>

        <section>
            <h1 id="sectionTree">×‘×¨×•×›×™× ×”×‘××™× ×œ×¢×¥ ×”××©×¤×—×” ×©×œ× ×•</h1>
            <ul class="features" id="featuresList">
                <li>ğŸŒ³ ×¢×¥ ××©×¤×—×” ××™× ×˜×¨××§×˜×™×‘×™</li>
                <li>ï¿½ ×›× ×™×¡×ª ××©×ª××©×™× ×•×”×¨×©××•×ª ×œ×¤×™ ×¦×“ ××©×¤×—×ª×™</li>
                <li>ğŸ’¬ ×§×™×¨ ××©×¤×—×ª×™ ×œ×¤×•×¡×˜×™× ×•×ª×’×•×‘×•×ª</li>
                <li>ğŸ“¨ ××¢×¨×›×ª ×”×•×“×¢×•×ª ×¤× ×™××™×ª</li>
                <li>ğŸ–¼ï¸ ×ª×¦×•×’×ª ×’×œ×¨×™×” ×œ××¡××›×™× ×•×ª××•× ×•×ª</li>
                <li>ğŸ•¯ï¸ ×¢××•×“×™ ×”× ×¦×—×” ×¢× × ×¨ ×“×™×’×™×˜×œ×™</li>
                <li>ğŸŒ ×ª×¤×¨×™×˜ ×“×•-×œ×©×•× ×™ (×¢×‘×¨×™×ª/×× ×’×œ×™×ª)</li>
                <li>ğŸ” ×—×™×¤×•×© ×—×›×</li>
                <li>ğŸ“§ ×ª××™×›×” ×‘× ×™×•×–×œ×˜×¨</li>
                <li>ğŸ¤– ×¦â€™××˜ AI ××©×¤×—×ª×™ ×¢× ×ª××™×›×” ×‘× ×ª×•× ×™ ××©×¤×—×”</li>
                <li>ğŸ“± ×ª××™×›×” ×‘×¢×™×¦×•×‘ ×¨×¡×¤×•× ×¡×™×‘×™ ×œ× ×™×™×“</li>
            </ul>
        </section>

        <section>
            <h2 id="newsTitle">×—×“×©×•×ª ×•×¢×“×›×•× ×™×</h2>
            <ul id="newsList">
                <li>×”×•×¡×¤× ×• ×™×›×•×œ×ª ×”×¢×œ××ª ×ª××•× ×•×ª ×œ×¢×¥ ×”××©×¤×—×”.</li>
                <li>× ×¤×ª×—×” ××¢×¨×›×ª ×”×”×•×“×¢×•×ª ×”×¤× ×™××™×ª ×œ×›×œ ×”××©×ª××©×™×.</li>
                <li>× ×™×ª×Ÿ ×œ×”×“×œ×™×§ × ×¨ ×“×™×’×™×˜×œ×™ ×œ×¢×™×œ×•×™ × ×©××ª ×™×§×™×¨×™×›×.</li>
            </ul>
        </section>

        <section class="hero-image">
            <img src="/asset/family-hero.png" alt="×ª××•× ×ª ××©×¤×—×”" />
        </section>
    </main>

    <footer>
        <p id="footerText">&copy; 2025 ××ª×¨ ×”××©×¤×—×” â€¢ × ×‘× ×” ×‘××”×‘×” ×¢"×™ ×”××©×¤×—×” â€¢
            <a id="adminLink" href="/admin.html">ğŸ› ï¸ × ×™×”×•×œ</a>
        </p>
    </footer>

    <script>
        const translations = {
            he: {
                title: "××ª×¨ ×”××©×¤×—×” - Ben Abou, Elharrar ×•×¢×•×“",
                welcomeTitle: "×‘×¨×•×›×™× ×”×‘××™× ×œ××ª×¨ ×”××©×¤×—×”",
                welcomeSubtitle: "Ben Abou â€¢ Elharrar â€¢ Malca â€¢ ×•×¢×•×“",
                searchTitle: "ğŸ” ×—×™×¤×•×© ×‘××ª×¨",
                searchPlaceholder: "×”×§×œ×“ ×©× ××• ×ª×™××•×¨...",
                sectionWelcome: "ğŸŒŸ ×‘×¨×•×›×™× ×”×‘××™× ×œ××¨×›×– ×”××©×¤×—×ª×™",
                intro1: "××ª×¨ ×–×” × ×‘× ×” ×¢×‘×•×¨ ×›×œ ×”××©×¤×—×•×ª: Ben Abou, Elharrar, Malca, Ben David, Bromberg, Barenbaum, Fass-Schneck, Weinberger, Leibner, van der Velde, Behr, de Vries, Italiaander, Izaks, Chapon, ×•×¢×•×“ â€“ ×œ×©×™×ª×•×£ ×ª××•× ×•×ª, ×”× ×¦×—×•×ª, ×¢×¥ ××©×¤×—×”, ×”×•×“×¢×•×ª ×•×¢×•×“.",
                intro2: "× ×™×ª×Ÿ ×œ×”×™×›× ×¡ ×œ×¤×™ ×¦×“ ××©×¤×—×ª×™, ×œ×¢×“×›×Ÿ ×¤×¨×˜×™×, ×œ×©×•×—×— ×¢× ×¦×³××˜ AI ××©×¤×—×ª×™ ×•×œ×—×•×•×ª ×™×—×“ ×”×™×¡×˜×•×¨×™×” ××ª×•×¢×“×ª.",
                sectionTree: "×‘×¨×•×›×™× ×”×‘××™× ×œ×¢×¥ ×”××©×¤×—×” ×©×œ× ×•",
                features: [
                    "ğŸŒ³ ×¢×¥ ××©×¤×—×” ××™× ×˜×¨××§×˜×™×‘×™",
                    "ğŸ” ×›× ×™×¡×ª ××©×ª××©×™× ×•×”×¨×©××•×ª ×œ×¤×™ ×¦×“ ××©×¤×—×ª×™",
                    "ğŸ’¬ ×§×™×¨ ××©×¤×—×ª×™ ×œ×¤×•×¡×˜×™× ×•×ª×’×•×‘×•×ª",
                    "ğŸ“¨ ××¢×¨×›×ª ×”×•×“×¢×•×ª ×¤× ×™××™×ª",
                    "ğŸ–¼ï¸ ×ª×¦×•×’×ª ×’×œ×¨×™×” ×œ××¡××›×™× ×•×ª××•× ×•×ª",
                    "ğŸ•¯ï¸ ×¢××•×“×™ ×”× ×¦×—×” ×¢× × ×¨ ×“×™×’×™×˜×œ×™",
                    "ğŸŒ ×ª×¤×¨×™×˜ ×“×•-×œ×©×•× ×™ (×¢×‘×¨×™×ª/×× ×’×œ×™×ª)",
                    "ğŸ” ×—×™×¤×•×© ×—×›×",
                    "ğŸ“§ ×ª××™×›×” ×‘× ×™×•×–×œ×˜×¨",
                    "ğŸ¤– ×¦â€™××˜ AI ××©×¤×—×ª×™ ×¢× ×ª××™×›×” ×‘× ×ª×•× ×™ ××©×¤×—×”",
                    "ğŸ“± ×ª××™×›×” ×‘×¢×™×¦×•×‘ ×¨×¡×¤×•× ×¡×™×‘×™ ×œ× ×™×™×“"
                ],
                newsTitle: "×—×“×©×•×ª ×•×¢×“×›×•× ×™×",
                news: [
                    "×”×•×¡×¤× ×• ×™×›×•×œ×ª ×”×¢×œ××ª ×ª××•× ×•×ª ×œ×¢×¥ ×”××©×¤×—×”.",
                    "× ×¤×ª×—×” ××¢×¨×›×ª ×”×”×•×“×¢×•×ª ×”×¤× ×™××™×ª ×œ×›×œ ×”××©×ª××©×™×.",
                    "× ×™×ª×Ÿ ×œ×”×“×œ×™×§ × ×¨ ×“×™×’×™×˜×œ×™ ×œ×¢×™×œ×•×™ × ×©××ª ×™×§×™×¨×™×›×."
                ],
                footerText: "Â© 2025 ××ª×¨ ×”××©×¤×—×” â€¢ × ×‘× ×” ×‘××”×‘×” ×¢\"×™ ×”××©×¤×—×” â€¢",
                adminLink: "ğŸ› ï¸ × ×™×”×•×œ",
                menus: ["ğŸ  ×¢××•×“ ×¨××©×™", "â„¹ï¸ ×¢××•×“ ×”×¢×“×›×•× ×™×", "ğŸ§¬ ×¢×¥ ×”××©×¤×—×”", "ğŸ§‘â€ğŸ’» ×¦'××˜ AI", "ğŸ“© ×××¦×¢×™ ×ª×§×©×•×¨×ª ××©×¤×—×ª×™×™×", "ğŸ–¼ï¸ ×’×œ×¨×™×™×ª ×ª××•× ×•×ª", "ğŸ•¯ï¸ ×§×™×¨ ×–×™×›×¨×•×Ÿ", "ğŸ—“ï¸ ×¦×™×¨ ×–××Ÿ", "ğŸ“† ×œ×•×— ×©× ×”", "ğŸ‘ª ×¤×•×¨×•× ××©×¤×—×ª×™", "ğŸ“– ×‘×™×•×’×¨×¤×™×•×ª", "ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×•×ª", "×¢×“×›×•×Ÿ ×¤×¨×˜×™×", "×”×¢×œ××ª ×ª××•× ×•×ª", "×”×¢×œ××ª ×¡×¨×˜×•×Ÿ", "×—×™×¤×•×© AI", "××¤×ª × ×“×•×“×™×", "ğŸ“° ×¢×œ×•×Ÿ", "ğŸ” ×›× ×™×¡×ª ××©×ª××©×™×", "×”×ª× ×ª×§×•×ª"]
            },
            en: {
                title: "Family Website - Ben Abou, Elharrar & more",
                welcomeTitle: "Welcome to the Family Website",
                welcomeSubtitle: "Ben Abou â€¢ Elharrar â€¢ Malca â€¢ and more",
                searchTitle: "ğŸ” Search the site",
                searchPlaceholder: "Type a name or description...",
                sectionWelcome: "ğŸŒŸ Welcome to the Family Center",
                intro1: "This website was built for all families: Ben Abou, Elharrar, Malca, Ben David, Bromberg, Barenbaum, Fass-Schneck, Weinberger, Leibner, van der Velde, Behr, de Vries, Italiaander, Izaks, Chapon, and more â€“ to share photos, memorials, family tree, announcements and more.",
                intro2: "You can join by family side, update details, chat with the Family AI Chatbot and experience documented history together.",
                sectionTree: "Welcome to our Family Tree",
                features: [
                    "ğŸŒ³ Interactive Family Tree",
                    "ğŸ” User login & permissions by family side",
                    "ğŸ’¬ Family wall for posts & comments",
                    "ğŸ“¨ Internal messaging system",
                    "ğŸ–¼ï¸ Gallery view for documents & photos",
                    "ğŸ•¯ï¸ Memorial pages with digital candles",
                    "ğŸŒ Bilingual menu (Hebrew/English)",
                    "ğŸ” Smart search",
                    "ğŸ“§ Newsletter support",
                    "ğŸ¤– Family AI Chat with family data",
                    "ğŸ“± Responsive design for mobile"
                ],
                newsTitle: "News & Updates",
                news: [
                    "Photo upload to the family tree is now available.",
                    "Internal messaging system is open to all users.",
                    "You can light a digital candle in memory of loved ones."
                ],
                footerText: "Â© 2025 Family Website â€¢ Built with love by the family â€¢",
                adminLink: "ğŸ› ï¸ Admin",
                menus: ["ğŸ  Home", "â„¹ï¸ Updates", "ğŸ§¬ Family Tree", "ğŸ§‘â€ğŸ’» AI Chat", "ğŸ“© Family Contacts", "ğŸ–¼ï¸ Gallery", "ğŸ•¯ï¸ Memorial Wall", "ğŸ—“ï¸ Timeline", "ğŸ“† Calendar", "ğŸ‘ª Family Forum", "ğŸ“– Biographies", "ğŸ“Š Statistics", "Update Details", "Upload Photo", "Upload Video", "AI Search", "Migration Map", "ğŸ“° Newsletter", "ğŸ” Login", "Logout"]
            },
            fr: {
                title: "Site de la Famille - Ben Abou, Elharrar et plus",
                welcomeTitle: "Bienvenue sur le site de la famille",
                welcomeSubtitle: "Ben Abou â€¢ Elharrar â€¢ Malca â€¢ et plus",
                searchTitle: "ğŸ” Rechercher sur le site",
                searchPlaceholder: "Tapez un nom ou une description...",
                sectionWelcome: "ğŸŒŸ Bienvenue au centre familial",
                intro1: "Ce site a Ã©tÃ© crÃ©Ã© pour toutes les familles : Ben Abou, Elharrar, Malca, Ben David, Bromberg, Barenbaum, Fass-Schneck, Weinberger, Leibner, van der Velde, Behr, de Vries, Italiaander, Izaks, Chapon, et plus â€“ pour partager photos, commÃ©morations, arbre gÃ©nÃ©alogique, annonces et plus.",
                intro2: "Vous pouvez entrer par cÃ´tÃ© familial, mettre Ã  jour des dÃ©tails, discuter avec le Chat IA Familial et vivre ensemble une histoire documentÃ©e.",
                sectionTree: "Bienvenue dans notre arbre gÃ©nÃ©alogique",
                features: [
                    "ğŸŒ³ Arbre gÃ©nÃ©alogique interactif",
                    "ğŸ” Connexion & permissions par cÃ´tÃ© familial",
                    "ğŸ’¬ Mur familial pour publications & commentaires",
                    "ğŸ“¨ SystÃ¨me de messagerie interne",
                    "ğŸ–¼ï¸ Galerie pour documents & photos",
                    "ğŸ•¯ï¸ Pages commÃ©moratives avec bougies numÃ©riques",
                    "ğŸŒ Menu bilingue (hÃ©breu/anglais)",
                    "ğŸ” Recherche intelligente",
                    "ğŸ“§ Support bulletin",
                    "ğŸ¤– Chat IA Familial avec donnÃ©es de famille",
                    "ğŸ“± Design rÃ©actif pour mobile"
                ],
                newsTitle: "ActualitÃ©s & mises Ã  jour",
                news: [
                    "Ajout de lâ€™option de tÃ©lÃ©verser des photos dans lâ€™arbre gÃ©nÃ©alogique.",
                    "Le systÃ¨me de messagerie interne est ouvert Ã  tous les utilisateurs.",
                    "Vous pouvez allumer une bougie numÃ©rique en mÃ©moire de vos proches."
                ],
                footerText: "Â© 2025 Site de la famille â€¢ Construit avec amour par la famille â€¢",
                adminLink: "ğŸ› ï¸ Admin",
                menus: ["ğŸ  Accueil", "â„¹ï¸ Mises Ã  jour", "ğŸ§¬ Arbre gÃ©nÃ©alogique", "ğŸ§‘â€ğŸ’» Chat IA", "ğŸ“© Contacts familiaux", "ğŸ–¼ï¸ Galerie", "ğŸ•¯ï¸ Mur commÃ©moratif", "ğŸ—“ï¸ Chronologie", "ğŸ“† Calendrier", "ğŸ‘ª Forum familial", "ğŸ“– Biographies", "ğŸ“Š Statistiques", "Mettre Ã  jour", "TÃ©lÃ©verser photo", "TÃ©lÃ©verser vidÃ©o", "Recherche IA", "Carte migrations", "ğŸ“° Bulletin", "ğŸ” Connexion", "DÃ©connexion"]
            },
            yi: {
                title: "×¤×××™×œ×™×¢ ×•×•×¢×‘×–×™×™×˜ - ×‘×Ÿ ××‘×•, ××œ×”×¨×¨ ××•×Ÿ ××¢×¨",
                welcomeTitle: "×‘×¨×•×š ×”×‘× ×¦×•× ×¤×××™×œ×™×¢ ×•×•×¢×‘×–×™×™×˜",
                welcomeSubtitle: "×‘×Ÿ ××‘×• â€¢ ××œ×”×¨×¨ â€¢ ×××œ×§× â€¢ ××•×Ÿ ××¢×¨",
                searchTitle: "ğŸ” ×–×•×š ××•×™×¤×Ÿ ×–×™×™×˜",
                searchPlaceholder: "×©×¨×™×™×‘ × × ×××¢×Ÿ ××“×¢×¨ ×‘××©×¨×™×™×‘×•× ×’...",
                sectionWelcome: "ğŸŒŸ ×‘×¨×•×š ×”×‘× ×¦×•× ×¤×××™×œ×™×¢ ×¦×¢× ×˜×¢×¨",
                intro1: "×“×¢×¨ ×–×™×™×˜ ××™×– ×’×¢×‘×•×™×˜ ×’×¢×•×•××¨×Ÿ ×¤××¨ ××œ×¢ ×¤×××™×œ×™×¢×¡: ×‘×Ÿ ××‘×•, ××œ×”×¨×¨, ×××œ×§×, ×‘×Ÿ ×“×•×“, ×‘×¨×•××‘×¢×¨×’, ×‘××¨× ×‘××•×, ×¤××¡-×©× ×¢×§, ×•×•×™×™× ×‘×¢×¨×’×¢×¨, ×œ×™×™×‘× ×¢×¨, ×•×•××Ÿ ×“×¢×¨ ×•×•××œ×“×¢, ×‘×¢×¨, ×“×¢ ×¤×¨×™×–, ××™×˜××œ×™×× ×“×¢×¨, ×™×¦×—×§×¡, ×©××¤××Ÿ ××•×Ÿ ××¢×¨ â€“ ×¦×• ×˜×™×™×œ×Ÿ ×‘×™×œ×“×¢×¨, ×× ×“×¢× ×§×¢×Ÿ, ×¤×××™×œ×™×¢ ×‘×•×™×, ××¢×œ×“×•× ×’×¢×Ÿ ××•×Ÿ ××¢×¨.",
                intro2: "××™×¨ ×§×¢× ×˜ ××¨×™×™× ×’×™×™×Ÿ ×œ×•×™×˜ ×¤×××™×œ×™×¢ ×–×™×™×˜, ×“×¢×¨×”×™×™×‘×Ÿ ×“×¢×˜××œ×Ÿ, ×©××•×¢×¡×Ÿ ××™×˜ ×“×¢× ×¤×××™×œ×™×¢ ××™× ×˜×¢×œ×™×’×¢× ×˜ ×˜×©×Ö·×˜ ××•×Ÿ ×¦×•×–×××¢×Ÿ ××™×‘×¢×¨×œ×¢×‘×Ÿ ×“××§×•××¢× ×˜×™×¨×˜×¢ ×’×¢×©×™×›×˜×¢.",
                sectionTree: "×‘×¨×•×š ×”×‘× ×¦×• ××•× ×“×–×¢×¨ ×¤×××™×œ×™×¢ ×‘×•×™×",
                features: [
                    "ğŸŒ³ ××™× ×˜×¢×¨××§×˜×™×•×• ×¤×××™×œ×™×¢ ×‘×•×™×",
                    "ğŸ” ×‘×× ×•×¦×¢×¨ ××™×™× ×–×™×™×Ÿ ××•×Ÿ ×“×¢×¨×œ×•×™×‘× ×™×© ×œ×•×™×˜ ×¤×××™×œ×™×¢ ×–×™×™×˜",
                    "ğŸ’¬ ×¤×××™×œ×™×¢ ×•×•×× ×˜ ×¤××¨ ×¤××¡×˜×¡ ××•×Ÿ ×§×××¢× ×˜××¨×Ÿ",
                    "ğŸ“¨ ××™× ×¢×¨×œ×¢×š ××¢×¡×¢×“×–×©×™× ×’ ×¡×™×¡×˜×¢×",
                    "ğŸ–¼ï¸ ×’××œ×¢×¨×™×¢ ×¤××¨ ×“××§×•××¢× ×˜×Ÿ ××•×Ÿ ×‘×™×œ×“×¢×¨",
                    "ğŸ•¯ï¸ ×× ×“×¢× ×§ ×‘×œ××˜ ××™×˜ ×“×™×’×™×˜××œ×™×©×¢ ×œ×™×›×˜",
                    "ğŸŒ ×¦×•×•×™×™-×©×¤×¨××›×™×§×¢ ××¢× ×™×• (×”×¢×‘×¨×¢×™×©/×¢× ×’×œ×™×©)",
                    "ğŸ” ×§×œ×•×’×¢ ×–×•×š",
                    "ğŸ“§ × ×™×™Ö·×‘×œ×Ö·×˜ ×©×˜×™×¥",
                    "ğŸ¤– ×¤×××™×œ×™×¢ ××™× ×˜×¢×œ×™×’×¢× ×˜ ×˜×©×Ö·×˜ ××™×˜ ×¤×××™×œ×™×¢ ×“××˜×Ÿ",
                    "ğŸ“± ×¨×¢×¡×¤×× ×¡×™×•×• ×“×™×–×™×™×Ÿ ×¤××¨ ×××‘×™×œ"
                ],
                newsTitle: "× ×™×™Ö·×¢×¡ ××•×Ÿ ×“×¢×¨×”×™×™×‘×•× ×’×¢×Ÿ",
                news: [
                    "×¦×•×’×¢×’×¢×‘×Ÿ ×“×™ ××¢×’×œ×¢×›×§×™×™×˜ ×¦×• ×“×¢×¨×”×™×™×‘×Ÿ ×‘×™×œ×“×¢×¨ ×¦×• ×“×¢×¨ ×¤×××™×œ×™×¢ ×‘×•×™×.",
                    "×“×¢×¨ ××™× ×¢×¨×œ×¢×š ××¢×¡×¢×“×–×©×™× ×’ ×¡×™×¡×˜×¢× ××™×– ××¤×Ÿ ×¤××¨ ××œ×¢ ×‘×× ×•×¦×¢×¨.",
                    "××™×¨ ×§×¢× ×˜ ×Ö¸× ×¦×™× ×“×Ÿ × ×“×™×’×™×˜××œ×™×©×¢ ×œ×™×›×˜ ×œ×–×›×•×ª ××™×™×¢×¨×¢ ×œ×™×‘×¢ ×¤×¨×™×™× ×“."
                ],
                footerText: "Â© 2025 ×¤×××™×œ×™×¢ ×•×•×¢×‘×–×™×™×˜ â€¢ ×’×¢×‘×•×™×˜ ××™×˜ ×œ×™×‘×¢ ×“×•×¨×š ×“×™ ×¤×××™×œ×™×¢ â€¢",
                adminLink: "ğŸ› ï¸ ××“××™×Ÿ",
                menus: ["ğŸ  ×”×•×™×¤Ö¼×˜ ×‘×œ×Ö·×˜", "â„¹ï¸ ×“×¢×¨×”×™×™×‘×•× ×’×¢×Ÿ", "ğŸ§¬ ×¤×××™×œ×™×¢ ×‘×•×™×", "ğŸ§‘â€ğŸ’» ××™× ×˜×¢×œ×™×’×¢× ×˜ ×˜×©×Ö·×˜", "ğŸ“© ×¤×××™×œ×™×¢ ×§×× ×˜××§×˜×Ÿ", "ğŸ–¼ï¸ ×’××œ×¢×¨×™×¢", "ğŸ•¯ï¸ ×× ×“×¢× ×§ ×•×•×× ×˜", "ğŸ—“ï¸ ×¦×™×™×˜-×œ×™× ×™×¢", "ğŸ“† ×§××œ×¢× ×“××¨", "ğŸ‘ª ×¤×××™×œ×™×¢ ×¤××¨×•×", "ğŸ“– ×‘×™××’×¨××¤×™×¢×¡", "ğŸ“Š ×¡×˜××˜×™×¡×˜×™×§", "×“×¢×¨×”×™×™×‘×Ÿ ×“×¢×˜××œ×Ÿ", "×”×™×™×‘×Ÿ ×‘×™×œ×“", "×”×™×™×‘×Ÿ ×•×•×™×“×¢×", "××™× ×˜×¢×œ×™×’×¢× ×˜ ×–×•×š", "××Ö·×¤Ö¼×¢ ×¤×•×Ÿ ×•×•×Ö·× ×“×¢×¨×•× ×’×¢×Ÿ", "ğŸ“° × ×™×™Ö·×‘×œ×Ö·×˜", "ğŸ” ××™×™× ×–×™×™×Ÿ", "××•×™×¡×œ××’×Ÿ"]
            }
        };

        document.addEventListener("DOMContentLoaded", () => {
            const langSelector = document.getElementById("langSelector");
            const userProfileDiv = document.getElementById("user-profile");
            const menuBar = document.querySelector(".menu-bar");

            let currentLang = localStorage.getItem("lang") || "he";
            let isLoggedIn = false;

            // ×¢×“×›×•×Ÿ ×”×©×¤×” ×”×¨××©×•× ×™×ª ×©×œ ×”-select
            langSelector.value = currentLang;

            const textElementsMap = {
                "welcomeTitle": "welcomeTitle",
                "welcomeSubtitle": "welcomeSubtitle",
                "search-title": "searchTitle",
                "search-input": "searchPlaceholder",
                "sectionWelcome": "sectionWelcome",
                "intro1": "intro1",
                "intro2": "intro2",
                "sectionTree": "sectionTree",
                "newsTitle": "newsTitle",
                "footerText": "footerText",
                "adminLink": "adminLink"
            };

            const updateContent = (lang) => {
                const texts = translations[lang];
                if (!texts) return;

                // ×¢×“×›×•×Ÿ HTML, dir ×•-title
                document.documentElement.lang = lang;
                document.documentElement.setAttribute("dir", (lang === "he" || lang === "yi") ? "rtl" : "ltr");
                document.title = texts.title;

                // ×¢×“×›×•×Ÿ ××œ×× ×˜×™× ×œ×¤×™ ID
                for (const id in textElementsMap) {
                    const key = textElementsMap[id];
                    const element = document.getElementById(id);
                    if (element) {
                        if (element.tagName === "INPUT") {
                            element.placeholder = texts.searchPlaceholder;
                        } else {
                            element.textContent = texts[key];
                        }
                    }
                }

                // ×¢×“×›×•×Ÿ ×¨×©×™××•×ª
                const featuresList = document.getElementById("featuresList");
                if (featuresList) {
                    featuresList.innerHTML = texts.features.map(item => `<li>${item}</li>`).join('');
                }

                const newsList = document.getElementById("newsList");
                if (newsList) {
                    newsList.innerHTML = texts.news.map(item => `<li>${item}</li>`).join('');
                }

                // ×¢×“×›×•×Ÿ ×ª×¤×¨×™×˜ ×”× ×™×•×•×˜
                const menuItems = document.querySelectorAll('.menu-bar a');
                menuItems.forEach((link, index) => {
                    if (texts.menus[index]) {
                        link.innerHTML = texts.menus[index];
                    }
                });

                // ×¢×“×›×•×Ÿ ×¤×¨×•×¤×™×œ ××©×ª××©
                updateUserProfile(isLoggedIn, texts);
            };

            const updateUserProfile = (isUserLoggedIn, texts) => {
                isLoggedIn = isUserLoggedIn;
                const userProfile = document.getElementById("user-profile");
                if (isLoggedIn) {
                    // ×›××Ÿ × ×™×ª×Ÿ ×œ×§×¨×•× ××ª ×©× ×”××©×ª××© ×•×ª×¤×§×™×“×• ××”-API ×× ×¦×¨×™×š
                    userProfile.innerHTML = `
                        <span style="font-weight:bold;">${texts.loggedInUser}</span>
                        <span style="color:gray;">(${texts.loggedInRole})</span>
                        <a href="/logout" style="margin-right:10px; color: red;">${texts.menus[texts.menus.length - 1]}</a>
                    `;
                    if (menuBar) menuBar.style.display = "flex";
                } else {
                    userProfile.innerHTML = `
                        <a href="/login.html" style="margin-right:10px; color: white;">${texts.menus[texts.menus.length - 2]}</a>
                    `;
                    if (menuBar) menuBar.style.display = "none";
                }
            };

            // ×¡×™××•×œ×¦×™×” ×©×œ ×§×¨×™××” ×œ×©×¨×ª
            fetch("/api/user")
                .then(res => res.ok ? res.json() : Promise.reject("User not logged in"))
                .then(user => {
                    isLoggedIn = !!user.username; // ×”×’×“×¨×ª ×¡×˜×˜×•×¡ ×”×ª×—×‘×¨×•×ª
                    updateContent(currentLang);
                })
                .catch(error => {
                    console.error("Error fetching user data:", error);
                    isLoggedIn = false;
                    updateContent(currentLang);
                });

            // ×”××–× ×” ×œ×©×™× ×•×™ ×©×¤×”
            langSelector.addEventListener("change", (event) => {
                currentLang = event.target.value;
                localStorage.setItem("lang", currentLang);
                updateContent(currentLang);
            });

            // ×”×¤×¢×œ×ª ×”×¤×•× ×§×¦×™×” ×”×¨××©×•× ×™×ª
            updateContent(currentLang);
        });
    </script>
</body>
</html>

