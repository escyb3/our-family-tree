<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>×“×•×"×œ ×¤× ×™××™ â€“ Family Mail</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./mailbox-style.css" />
  <!-- ××¤×©×¨ ×œ×”×–×¨×™×§ ×§×•× ×¤×™×’×•×¨×¦×™×” ×’×œ×•×‘×œ×™×ª ×œ×¤× ×™ ×˜×¢×™× ×ª ×”××¤×œ×™×§×¦×™×”: -->
  <script>

    window.__app_id = "default-app-id";
    // ××•×¤×¦×™×•× ×œ×™: ××¡×™××•×Ÿ ×”×ª×—×‘×¨×•×ª ××•×ª××
    // window.__initial_auth_token = "YOUR_CUSTOM_TOKEN";
  </script>

  <!-- Firebase (××•×“×•×œ×¨×™, ESM ××”-CDN) -->
  <script type="module">
    // × ×˜×¢×Ÿ ××ª ××•×“×•×œ×™ Firebase ×›×“×™ ×œ×”×©×ª××© ××”× ×‘-app.js (×©×’× ESM)
    // ×©×™× ×œ×‘: app.js ×¢×¦××• ×™×™×‘× ×©×•×‘ â€“ ××™×Ÿ ×‘×¢×™×”, ×”×“×¤×“×¤×Ÿ ×™××—×“.
    import "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
  </script>
</head>
<body>
  <div id="app">
    <!-- Header ×’×œ×•×‘×œ×™ ×§×˜×Ÿ -->
    <header class="app-header">
      <div class="app-title">ğŸ“§ ×“×•×"×œ ×¤× ×™××™</div>
      <button id="languageToggle" class="ghost-btn" title="×©×¤×”">ğŸŒ</button>
    </header>

    <!-- ××–×•×¨ ×¡×˜×˜×•×¡ ×›×œ×œ×™ -->
    <div id="globalStatus" class="global-status" hidden></div>

    <!-- View: Login -->
    <section id="view-login" class="view view--centered">
      <div class="card card--md">
        <div class="center-icon">ğŸ“§</div>
        <h1 class="title">×‘×¨×•×›×™× ×”×‘××™×</h1>
        <p class="muted">×”×›× ×¡ ×©× ××©×ª××© ×›×“×™ ×œ× ×”×œ ××ª ×ª×™×‘×ª ×”×“×•××¨ ×”××©×¤×—×ª×™×ª ×©×œ×š.</p>

        <form id="loginForm" class="vstack gap">
          <label class="label" for="usernameInput">×©× ××©×ª××©</label>
          <div class="input-with-suffix">
            <input id="usernameInput" type="text" placeholder="×œ×“×•×’××”: ×™×•× ×ª×Ÿ" required />
            <span class="suffix">@family.local</span>
          </div>
          <button id="loginBtn" class="btn primary">×”×ª×—×‘×¨</button>
          <div id="loginStatus" class="form-status" hidden></div>
        </form>
      </div>
    </section>

    <!-- View: Mailbox (sidebar + main) -->
    <section id="view-mailbox" class="view view--fill" hidden>
      <aside class="sidebar">
        <div class="app-name">ğŸ“§ ×“×•×"×œ ×¤× ×™××™</div>

        <div class="user-block">
          <div class="muted">×‘×¨×•×š ×”×‘×, <span id="sidebarUsername"></span>!</div>
          <div class="tiny muted">×›×ª×•×‘×ª ×”××™×™×œ ×©×œ×š:</div>
          <div class="mono" id="sidebarEmail"></div>
          <div class="tiny muted">××–×”×” ××©×ª××©:</div>
          <div class="mono tiny" id="sidebarUid"></div>
        </div>

        <button id="btnCompose" class="btn primary block">âœï¸ ×”×•×“×¢×” ×—×“×©×”</button>

        <nav class="nav vstack gap">
          <button class="nav-btn active" data-folder="inbox">ğŸ“¥ ×“×•××¨ × ×›× ×¡</button>
          <button class="nav-btn" data-folder="sent">ğŸ“¤ × ×©×œ×—</button>
          <button class="nav-btn" data-folder="trash">ğŸ—‘ï¸ ××©×¤×”</button>
          <button class="nav-btn" data-folder="spam">ğŸš« ×–×‘×œ</button>
        </nav>

        <div class="spacer"></div>

        <button id="btnContacts" class="nav-btn">ğŸ‘¥ ×× ×©×™ ×§×©×¨</button>
      </aside>

      <main class="main">
        <!-- ×›××Ÿ × ×˜×¢×Ÿ ×“×™× ××™×ª: ×¨×©×™××ª ××™×™×œ×™× / ×ª×¦×•×’×ª ××™×™×œ / ×§×•××¤×•×– / ×× ×©×™ ×§×©×¨ -->
        <div id="mainContent" class="stretch"></div>
        <div id="mailContainer"></div>
      </main>
    </section>
  </div>
<script> 
        window.__firebase_config = {
  apiKey: "AIzaSyAID_kPGA6Khczh0lIgd7E13LJS76JJ9nI",
  authDomain: "mailbox-e0ce2.firebaseapp.com",
  projectId: "mailbox-e0ce2",
  storageBucket: "mailbox-e0ce2.firebasestorage.app",
  messagingSenderId: "199399854104",
  appId: "1:199399854104:web:6aec488e6aeee0dec3736d",
  measurementId: "G-V3CSEQY5CR"
};
</script>
  <!-- ××¤×œ×™×§×¦×™×” (Vanilla JS) -->
  <script type="module" src="./mailinbox.js"></script>
</body>
</html>
