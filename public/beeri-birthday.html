<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ההרפתקה הקסומה של בארי</title>
<style>
  body { font-family: Arial; background: linear-gradient(120deg, #f0f8ff, #ffe4e1); text-align: center; padding: 20px; transition: background 1s; }
  #story { margin: 20px; font-size: 22px; }
  button { margin: 10px; padding: 12px 25px; font-size: 18px; cursor: pointer; border-radius: 8px; border: none; background: #ffb347; color: white; transition: transform 0.2s; }
  button:hover { transform: scale(1.1); }
  img { max-width: 350px; margin: 15px; border-radius: 15px; box-shadow: 2px 2px 10px rgba(0,0,0,0.2); }
</style>
</head>
<body>

<h1>ההרפתקה הקסומה של בארי</h1>
<div id="story">ברוך הבא להרפתקה! אתה עומד לגלות עולם קסום ומיוחד, בארי.</div>
<div id="choices"></div>
<div id="image"></div>
<audio id="sound" src="" preload="auto"></audio>

<script>
const storyData = {
  start: {
    text: "בארי קם בבוקר ומגלה שער קסום בחדרו שמוביל ליער של חיות מדברות! מה יעשה?",
    img: "https://via.placeholder.com/350?text=שער+קסום",
    choices: [
      { text: "לעקוב אחרי החתול המדבר", next: "catPath" },
      { text: "לטפס על העץ הקסום", next: "treePath" }
    ]
  },
  catPath: {
    text: "החתול המדבר מוביל את בארי לפגוש פיל מצחיק שאוהב לצייר.",
    img: "https://via.placeholder.com/350?text=פיל+מצחיק",
    sound: "https://www.soundjay.com/button/beep-07.wav",
    choices: [
      { text: "לצייר יחד עם הפיל", next: "paintPath" },
      { text: "להמשיך לחפש אוצר", next: "treasurePath" }
    ]
  },
  treePath: {
    text: "העץ הקסום מוביל את בארי לגבעה מלאה בפירות קסומים.",
    img: "https://via.placeholder.com/350?text=פירות+קסומים",
    sound: "https://www.soundjay.com/button/beep-08.wav",
    choices: [
      { text: "לאסוף פירות", next: "fruitPath" },
      { text: "לשחק עם חיות הגבעה", next: "animalsPath" }
    ]
  },
  paintPath: {
    text: "ציירת עם הפיל ציור מהמם! פתאום מופיעות המון מתנות סביבך 🎁",
    img: "https://via.placeholder.com/350?text=מתנות",
    sound: "https://www.soundjay.com/button/button-10.wav",
    choices: [
      { text: "סיים ציור והמשך להרפתקה אמיתית", next: "realTask" }
    ]
  },
  treasurePath: {
    text: "בארי מצא אוצר קטן! פתאום הוא מוקף במתנות וחגיגה צבעונית 🎉",
    img: "https://via.placeholder.com/350?text=אוצר+מתנות",
    sound: "https://www.soundjay.com/button/button-3.wav",
    choices: [
      { text: "המשך להרפתקה אמיתית", next: "realTask" }
    ]
  },
  fruitPath: {
    text: "גן הפירות הפך לממלכה קסומה! פתאום מגיעות מתנות מכל עבר 🎁",
    img: "https://via.placeholder.com/350?text=גן+קסום+ומתנות",
    sound: "https://www.soundjay.com/button/button-4.wav",
    choices: [
      { text: "המשך להרפתקה אמיתית", next: "realTask" }
    ]
  },
  animalsPath: {
    text: "החיות חוגגות עם בארי ומביאות מתנות גדולות 🎉",
    img: "https://via.placeholder.com/350?text=חיות+ומתנות",
    sound: "https://www.soundjay.com/button/button-5.wav",
    choices: [
      { text: "המשך להרפתקה אמיתית", next: "realTask" }
    ]
  },
  realTask: {
    text: "משימה אמיתית! בארי, הזמן שלך לאסוף 3 צעצועים או דברים שאתה אוהב בחדר שלך ולשים בסלסלה. כשסיימת, תוכל להמשיך לממלכה הקסומה!",
    img: "https://via.placeholder.com/350?text=משימה+אמיתית",
    sound: "https://www.soundjay.com/button/button-9.wav",
    choices: [
      { text: "סיימתי לאסוף את הדברים!", next: "kingEnding" }
    ]
  },
  kingEnding: {
    text: `ברכות! בארי המלך של העולם הקסום 👑 מתמלא במתנות ואושר אינסופי!

בארי היקר, אנחנו מברכים אותך שתהיה תמיד שמח כמו שאתה, שתהיה בריא ושתצליח בלימודים ועם החברים בכיתה א' ובכל מה שאתה עושה ורוצה לעשות, ושתצליח לאכול יפה והרבה 😄 אנחנו כאן בשבילך לכל מה שאתה צריך. אוהבים מאוד, אבא, אמא, יאיר, אבישי ועומר`,
    img: "https://via.placeholder.com/350?text=המלך+בארי",
    sound: "https://www.soundjay.com/button/button-6.wav",
    choices: []
  }
};

function showNode(nodeKey) {
  const node = storyData[nodeKey];
  document.getElementById("story").innerText = node.text;
  document.getElementById("image").innerHTML = node.img ? `<img src='${node.img}'>` : "";
  const soundEl = document.getElementById("sound");
  if(node.sound){
    soundEl.src = node.sound;
    soundEl.play();
  } else {
    soundEl.pause();
  }

  const choicesDiv = document.getElementById("choices");
  choicesDiv.innerHTML = "";
  node.choices.forEach(choice => {
    const btn = document.createElement("button");
    btn.innerText = choice.text;
    btn.onclick = () => showNode(choice.next);
    choicesDiv.appendChild(btn);
  });

  const colors = ["#f0f8ff", "#ffe4e1", "#e6ffe6", "#fff0f5"];
  document.body.style.background = `linear-gradient(120deg, ${colors[Math.floor(Math.random()*colors.length)]}, #f0f8ff)`;
}

showNode("start");
</script>

</body>
</html>
